var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,e,f){b!=Array.prototype&&b!=Object.prototype&&(b[e]=f.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(b,e,f,c){if(e){f=$jscomp.global;b=b.split(".");for(c=0;c<b.length-1;c++){var a=b[c];a in f||(f[a]={});f=f[a]}b=b[b.length-1];c=f[b];e=e(c);e!=c&&null!=e&&$jscomp.defineProperty(f,b,{configurable:!0,writable:!0,value:e})}};$jscomp.underscoreProtoCanBeSet=function(){var b={a:!0},e={};try{return e.__proto__=b,e.a}catch(f){}return!1};
$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(b,e){b.__proto__=e;if(b.__proto__!==e)throw new TypeError(b+" is not extensible");return b}:null;$jscomp.polyfill("Object.setPrototypeOf",function(b){return b||$jscomp.setPrototypeOf},"es6","es5");
var __extends=this&&this.__extends||function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,f){b.__proto__=f}||function(b,f){for(var c in f)f.hasOwnProperty(c)&&(b[c]=f[c])};return function(e,f){function c(){this.constructor=e}b(e,f);e.prototype=null===f?Object.create(f):(c.prototype=f.prototype,new c)}}(),BST;
(function(b){function e(d){b.pushHistoryState({url:"./?showID="+d,type:a.SHOW,title:d,showID:d});b.Server.loadShow(d,function(d){c(d)})}function f(){b.pushHistoryState({url:"./",type:a.HOME,title:"home",showID:""});b.Server.loadHome(function(a){var g=(new b.HomeView(a)).base,c=document.getElementById("mainShow");c&&KIP.addClass(c,"offscreen");d||(d=new b.BSTHeader(a),d.draw(document.getElementById("header")));d.displayAsHome();a=document.getElementById("homeElements");a.innerHTML="";a.appendChild(g);
KIP.removeClass(a,"offscreen")})}function c(a){var g=(new b.ShowView(a)).base,c=document.getElementById("homeElements");c&&window.setTimeout(function(){KIP.addClass(c,"offscreen")},1E3);var f=document.getElementById("mainShow");f.innerHTML="";f.appendChild(g);d.displayAsShow(a);KIP.addClass(f,"moving");KIP.removeClass(f,"offscreen");window.setTimeout(function(){KIP.removeClass(f,"moving")},1E3)}b.DEBUG=!1;var a;(function(a){a[a.HOME=0]="HOME";a[a.SHOW=1]="SHOW";a[a.ADMIN=2]="ADMIN";a[a.TICKETS=3]=
"TICKETS"})(a=b.NavigationType||(b.NavigationType={}));var d;b.navigate=function(d,c){c===a.SHOW?e(d):c===a.HOME?f():c!==a.TICKETS&&c===a.ADMIN&&(new b.Admin.AdminView).draw(document.body)}})(BST||(BST={}));(function(b){b.pushHistoryState=function(b){window.history.pushState(b,b.title,b.url)};window.addEventListener("popstate",function(){var e=window.history.state;e&&b.navigate(e.showID,e.type)})})(BST||(BST={}));
(function(b){function e(){return-1!==window.location.href.indexOf("admin")}function f(){return-1!==window.location.href.indexOf("tickets")}b.isAdmin=e;b.isTicketSales=f;b.keyNameToDisplayName=function(c){c=c.split("");for(var a="",d=0;d<c.length;d+=1){var g=c[d];g===g.toUpperCase()&&(a+=" ");0===d&&(g=g.toUpperCase());"_"!==g&&(a+=g)}return a};window.addEventListener("load",function(){e()?b.navigate("admin",b.NavigationType.ADMIN):f()?b.navigate("tickets",b.NavigationType.TICKETS):b.navigate("home",
b.NavigationType.HOME)})})(BST||(BST={}));
(function(b){var e=function(b){function c(){return null!==b&&b.apply(this,arguments)||this}__extends(c,b);Object.defineProperty(c.prototype,"_defaultValue",{get:function(){var a=c._lastDate?new Date(c._lastDate):KIP.Dates.getToday();a=KIP.Dates.clearTimeInfo(a);switch(a.getDay()){case 3:case 4:case 5:a=KIP.Dates.addToDate(a,{days:1});break;default:var d=4-a.getDay();0>d&&(d+=7);a=KIP.Dates.addToDate(a,{days:d})}a.setHours(20);return a},enumerable:!0,configurable:!0});c.prototype._parseElemTemplate=
function(a){b.prototype._parseElemTemplate.call(this,a)};c.prototype.render=function(a){b.prototype.render.call(this,a);c._lastDate=this._data};c.prototype._onChange=function(){var a=b.prototype._onChange.call(this);a&&(c._lastDate=this._data);return a};c.prototype.update=function(a){b.prototype.update.call(this,a)};c.prototype._createClonedElement=function(a){a||(a="");return new c(this._id+a,this)};return c}(KIP.Forms.DateTimeElement);b.DateSelector=e})(BST||(BST={}));
(function(b){b=b.MenuTypeEnum||(b.MenuTypeEnum={});b[b.SECTION=1]="SECTION";b[b.EXTERNAL=2]="EXTERNAL"})(BST||(BST={}));
(function(b){(function(b){b[b.NO_PREFERENCE=0]="NO_PREFERENCE";b[b.FEMALE=1]="FEMALE";b[b.MALE=2]="MALE";b[b.NON_BINARY=3]="NON_BINARY"})(b.IGenderEnum||(b.IGenderEnum={}));(function(b){b[b.MONOLOGUE=1]="MONOLOGUE";b[b.COLD_READ=2]="COLD_READ";b[b.DANCE_CALL=3]="DANCE_CALL";b[b.SINGING=4]="SINGING";b[b.IMPROV=5]="IMPROV"})(b.AuditionExpectationType||(b.AuditionExpectationType={}));(function(b){b[b.CAST=1]="CAST";b[b.CREW=2]="CREW";b[b.SPECIAL_MENTION=3]="SPECIAL_MENTION"})(b.CastOrCrew||(b.CastOrCrew=
{}));var e=function(){function b(c){c=this._parseDates(c);this._showTitle=c.showTitle;this._showDetails=c.showDetails;this._runDates=c.runDates;this._bios=c.bios;this._reviews=c.reviews;this._photos=c.photos;this._auditions=c.auditions}Object.defineProperty(b.prototype,"showTitle",{get:function(){return this._showTitle},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"showDetails",{get:function(){return this._showDetails},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,
"runDates",{get:function(){return this._runDates},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"bios",{get:function(){return this._bios},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"reviews",{get:function(){return this._reviews},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"photos",{get:function(){return this._photos},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"auditions",{get:function(){return this._auditions},
enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"run",{get:function(){return this.getStartAndEndDates()},enumerable:!0,configurable:!0});b.prototype._parseDates=function(c){var a;c.runDates||(c.runDates=[]);for(a=0;a<c.runDates.length;a+=1)c.runDates[a]=new Date(c.runDates[a]);c.reviews||(c.reviews=[]);for(a=0;a<c.reviews.length;a+=1)c.reviews[a]&&(c.reviews[a].date=new Date(c.reviews[a].date));if(c.auditions&&c.auditions.dates)for(a=0;a<c.auditions.dates.length;a+=1){var d=c.auditions.dates[a];
d.start=new Date(d.start);d.end=new Date(d.end);c.auditions.dates[a]=d}return c};b.prototype.getStartAndEndDates=function(){if(this._run)return this._run;var c=this._runDates;c=c.sort(function(a,d){return a<d?-1:a>d?1:0});return this._run=c={start:c[0],end:c[c.length-1]}};b.prototype.shouldShowBioSection=function(){return this.bios&&0!==this.bios.length?!0:!1};b.prototype.shouldShowBuzzSection=function(){return this.reviews&&0!==this.reviews.length?!0:!1};b.prototype.shouldShowAuditionsSection=function(){if(!this.auditions||
0===this.auditions.dates.length)return!1;var c=this.run,a=KIP.Dates.getToday();return c.start<a?!1:!0};b.prototype.shouldShowTicketSection=function(){return this.runDates&&0!==this.runDates.length?this.hasShowEnded():!1};b.prototype.hasShowEnded=function(){var c=this.run,a=KIP.Dates.getToday();return c.end<a?!1:!0};return b}();b.Show=e})(BST||(BST={}));
(function(b){var e;(function(b){b[b.SLOW_SCROLL=1]="SLOW_SCROLL";b[b.REVERSE_SLOW_SCROLL=2]="REVERSE_SLOW_SCROLL";b[b.FAST_SCROLL=3]="FAST_SCROLL"})(e=b.SCROLL_TYPE||(b.SCROLL_TYPE={}));b.scrollers=[];b.scrollTo=function(b){(b=document.getElementById(b))&&KIP.Helpers.scrollTo(b,!0)};b.slowScroll=function(f){var c={x:0,y:parseInt(f.style.top)||f.offsetTop};b.scrollers.push({elem:f,origPt:c,type:e.SLOW_SCROLL})};b.slowReverseScroll=function(f){var c={x:0,y:parseInt(f.style.top)||f.offsetTop};b.scrollers.push({elem:f,
origPt:c,type:e.REVERSE_SLOW_SCROLL})};b.fastScroll=function(b){};window.addEventListener("scroll",function(f){var c=KIP.getScrollPosition();b.scrollers.map(function(a){a.type!==e.FAST_SCROLL&&(a.elem.style.top=a.origPt.y+c.y*(a.type===e.REVERSE_SLOW_SCROLL?.4:-.4)+"px")})})})(BST||(BST={}));
(function(b){(function(e){function f(){return b.DEBUG&&b.isAdmin()?"../php/bst.php":b.DEBUG?"../php/bst.php":"../../../php/bst/bst.php"}e.getPath=f;e.loadShow=function(c,a,d){var g=f();KIP.ajaxRequest(KIP.AjaxTypeEnum.POST,g,function(g){if(g){try{var c=JSON.parse(g)}catch(l){console.log("Err: JSON couldn't be parsed");console.log(g);d&&d(g);return}var h=new b.Show(c)}a(h)},function(a){},{type:"loadShow",showID:c})};e.loadHome=function(b){var a=f();KIP.ajaxRequest(KIP.AjaxTypeEnum.POST,a,function(a){try{var d=
JSON.parse(a)}catch(h){console.log("Err: JSON couldn't be parsed");console.log(a);return}for(a=0;a<d.news.length;a+=1)d.news[a].date=new Date(d.news[a].date);for(a=0;a<d.about.detailedHistory.length;a+=1)d.about.detailedHistory[a].date&&(d.about.detailedHistory[a].date=new Date(d.about.detailedHistory[a].date));b(d)},function(a){},{type:"loadHome"})};e.loadSeasons=function(b){var a=f();KIP.ajaxRequest(KIP.AjaxTypeEnum.POST,a,function(a){try{var d=JSON.parse(a)}catch(h){console.log("Err: JSON couldn't be parsed");
console.log(a);return}b(d)},function(a){},{type:"loadSeasons"})};e.testBptAPI=function(b,a){var d=f();KIP.ajaxRequest(KIP.AjaxTypeEnum.POST,d,function(d){console.log("success!");a(d)},function(){console.log("failure!")},{type:"bptGetShowAvailability",eventID:b})}})(b.Server||(b.Server={}))})(BST||(BST={}));(function(b){(function(e){e.getShowStartAndEndDates=function(f){return(new b.Show(f)).getStartAndEndDates()}})(b.Helpers||(b.Helpers={}))})(BST||(BST={}));
(function(b){(function(b){function f(b){b.sort(function(a,d){a=new Date(a.endDate);d=new Date(d.endDate);return a<d?-1:d<a?1:0});return b}b.sortSeasons=f;b.findImmediateShow=function(b){b=f(b);var a=KIP.Dates.getToday(),d=b.length-1,g=b.length-1;for(d;0<=d&&!(a>new Date(b[d].endDate));--d)g=d;b[g].selected=!0;a=g-2;g+=2;g>=b.length&&(a=Math.max(a-(g-b.length),0),g=b.length-1);0>a&&(g=Math.min(g-a,b.length-1));return b.slice(a,g+1)}})(b.Helpers||(b.Helpers={}))})(BST||(BST={}));
(function(b){(function(e){function f(a){KIP.map(a,function(d,b){d instanceof Date?a[b]=KIP.Dates.shortDateTime(d):"object"===typeof d&&(a[b]=f(a[b]))});return a}function c(d,g,b,c){if(d){var h=new FormData;h.append("picture",d,d.name);h.append("type",b);c&&h.append("showID",c);d=e.getPath();KIP.ajaxRequest(KIP.AjaxTypeEnum.POST,d,function(d){"not admin"===d?a():g&&g(d)},function(){},h)}}function a(){var a=new KIP.ErrorPopup("You probably shouldn't be seeing this error, but you can try refreshing & relogging in",
"Hmm...looks like you aren't authorized to make changes");a.setThemeColor(0,"#EA0");a.draw(document.body)}e.saveSeasons=function(d,g){if(b.isAdmin()){var c=e.getPath();KIP.ajaxRequest(KIP.AjaxTypeEnum.POST,c,function(d){if("not admin"===d)a();else try{var b=JSON.parse(d);g&&g(b)}catch(l){console.warn("saveSeasons - JSON couldn't be parsed: "+d)}},function(){},{type:"saveSeasons",seasons:JSON.stringify(d)})}};e.saveHome=function(d,g){if(b.isAdmin()){var c=e.getPath();KIP.ajaxRequest(KIP.AjaxTypeEnum.POST,
c,function(d){if("not admin"===d)a();else try{var b=JSON.parse(d);g&&g(b)}catch(l){console.warn("saveHome - JSON couldn't be parsed: "+d)}},function(){},{type:"saveHome",home:JSON.stringify(d)})}};e.saveShow=function(d,g){if(b.isAdmin()){d=f(d);var c=e.getPath();KIP.ajaxRequest(KIP.AjaxTypeEnum.POST,c,function(d){"not admin"===d?a():g&&g(d)},function(){},{type:"showEdited",showID:d.showTitle.id,showData:JSON.stringify(d)})}};e.saveActorPhoto=function(a,b){c(a,b,"saveActorPhoto")};e.saveShowPhoto=
function(a,b,h){c(a,h,"saveShowPhoto",b)};e.saveIconPhoto=function(a,b,h){c(a,h,"saveIconPhoto",b)};e.saveGetInvolvedPhoto=function(a,b){c(a,b,"saveGetInvolvedPhoto")};e.saveLogoPhoto=function(a,b){c(a,b,"saveLogoPhoto")};e.saveBgPhoto=function(a,b){c(a,b,"saveBGPhoto")};e.login=function(a,g,c){if(b.isAdmin()){var d=e.getPath();KIP.ajaxRequest(KIP.AjaxTypeEnum.POST,d,function(a){+a?g(a):c(a)},function(){c("-1")},{type:"login",token:a})}};e.logout=function(){var a=e.getPath();KIP.ajaxRequest(KIP.AjaxTypeEnum.POST,
a,function(a){console.log("logged out: "+a)},function(){},{type:"logout"})}})(b.Server||(b.Server={}))})(BST||(BST={}));(function(b){var e=function(b){function c(){return null!==b&&b.apply(this,arguments)||this}__extends(c,b);Object.defineProperty(c.prototype,"base",{get:function(){return this._elems.base},enumerable:!0,configurable:!0});c.prototype._shouldSkipCreateElements=function(){return!this._data};return c}(KIP.Drawable);b.View=e})(BST||(BST={}));
(function(b){var e=function(b){function c(a,d,g){var c=b.call(this)||this;c._id=a;c._title=d;c._class=g;return c}__extends(c,b);Object.defineProperty(c.prototype,"data",{set:function(a){this._setData(a)},enumerable:!0,configurable:!0});c.prototype._setData=function(a){this._data=a;this._elems.base||this._createElements();this._createSectionElements()};c.prototype._createElements=function(){var a="section";this._class&&(a+=" "+this._class);a=KIP.createSimpleElement(this._id,a);var d=KIP.createSimpleElement(this._id+
"|title","sectionTitle",this._title,null,null,a),b=KIP.createSimpleElement(this._id+"|content","sectionContent","",null,null,a);this._elems={base:a,title:d,content:b}};c._uncoloredStyles={".section":{position:"relative",backgroundColor:"#FFF",color:"#222",paddingLeft:"30%",paddingRight:"30%",fontFamily:"OpenSansLight",wordWrap:"break-word",boxShadow:"0px 1px 15px 8px rgba(0, 0, 0, .2)",paddingTop:"15px",paddingBottom:"15px",zIndex:"1",margin:"20px 0",boxSizing:"border-box",width:"100%"},".section .sectionTitle":{fontSize:"2em",
fontFamily:"OpenSansBold",color:"#23262b"}};return c}(b.View);b.SectionView=e})(BST||(BST={}));
(function(b){var e=function(b){function c(a,d){var g=b.call(this)||this;g._data=a;g._name=d;g._createElements();return g}__extends(c,b);Object.defineProperty(c.prototype,"tab",{get:function(){return this._elems.tab},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"content",{get:function(){return this._elems.content},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"index",{get:function(){return this._index},set:function(a){this._index=a},enumerable:!0,configurable:!0});
c.prototype._createElements=function(){this._elems.tab=KIP.createSimpleElement("","tab",this._name);this._createContent();this._elems.base=KIP.createSimpleElement("","subsectionView hidden","",null,[this._elems.content])};c.prototype.select=function(){var a=this;KIP.removeClass(this._elems.base,"hidden");KIP.transition(this._elems.base,{opacity:"0 !important",maxHeight:"0"},{opacity:"1 !important",maxHeight:"<height>"},400,200).then(function(){KIP.addClass(a._elems.tab,"selected")})};c.prototype.deselect=
function(){var a=this;KIP.removeClass(this._elems.tab,"selected");KIP.transition(this._elems.base,{opacity:"1",maxHeight:"<height>"},{opacity:"0 !important",maxHeight:"0"},400).then(function(){KIP.addClass(a._elems.base,"hidden")})};c._uncoloredStyles={".subsection":{display:"inline-block",maxWidth:"50%",boxSizing:"border-box",verticalAlign:"top"},".subsection + .subsection":{paddingLeft:"40px"},".subsection .subheader":{fontSize:"1.5em",fontFamily:"OpenSansBold",textTransform:"uppercase",marginTop:"10px",
marginBottom:"5px"}};return c}(b.View);b.SubSection=e})(BST||(BST={}));
(function(b){var e=function(b){function c(){var a=b.call(this)||this;a._subsections=[];a._currentSelection=null;a._createElements();return a}__extends(c,b);c.prototype._createElements=function(){this._elems.tabs=KIP.createSimpleElement("","tabContainer");this._elems.contentPane=KIP.createSimpleElement("","subsectionContent");this._elems.base=KIP.createSimpleElement("","subsectionContainer","",null,[this._elems.tabs,this._elems.contentPane])};c.prototype.addSubSections=function(){for(var a=[],d=0;d<
arguments.length;d++)a[d]=arguments[d];for(var b=0;b<a.length;b++)d=a[b],this.addSubSection(d)};c.prototype.addSubSection=function(a){var d=this;a.index=this._subsections.length;this._subsections.push(a);a.tab.addEventListener("click",function(b){d.selectTab(a.index)});1===this._subsections.length&&this.selectTab(0);this._elems.contentPane.appendChild(a.base);this._elems.tabs.appendChild(a.tab)};c.prototype.selectTab=function(a){if(a!==this._currentSelection){var d;null!==this._currentSelection&&
(d=this._subsections[this._currentSelection]);d&&d.deselect();if(d=this._subsections[a])d.select(),this._currentSelection=a}};c._uncoloredStyles={".subsectionContent":{transition:"all ease-in-out .3s"},".tabContainer":{display:"flex",justifyContent:"space-between",marginBottom:"10px",marginTop:"10px",fontFamily:"OpenSansBold"},".tabContainer .tab":{cursor:"pointer",transition:".08s ease-in-out all",color:"#666"},".tabContainer .tab:hover, .tabContainer .tab.selected":{transform:"scale(1.1)",textDecoration:"underline",
color:"#333"}};return c}(b.View);b.SubSections=e})(BST||(BST={}));
(function(b){var e=function(f){function c(a){var d=f.call(this)||this;d._homeData=a;d._data={};d._createElements();return d}__extends(c,f);Object.defineProperty(c.prototype,"homeData",{set:function(a){this._homeData=a},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"showData",{get:function(){return this._showData},set:function(a){this._showData=a},enumerable:!0,configurable:!0});c.prototype._createElements=function(){this._elems.base=KIP.createElement({cls:"header"});this._elems.wrapper=
KIP.createElement({cls:"headerWrapper",parent:this._elems.base});this._createHomeElements();this._createShowElements()};c.prototype._createHomeElements=function(){this._elems.home=KIP.createElement({cls:"home",parent:this._elems.wrapper});this._createBSTNameAndLogo();this._createHomeMenuElements()};c.prototype._createBSTNameAndLogo=function(){var a=KIP.createElement({cls:"homeName",parent:this._elems.home});this._elems.homeTitle=KIP.createElement({cls:"homeTitle",content:"Broom Street Theater",parent:a});
this._elems.homeLogo=KIP.createElement({cls:"bstLogo",type:"img",attr:{src:this._homeData.logoURL},parent:a})};c.prototype._createShowMenuElements=function(){var a=this._createShowNavButton("SYNOPSIS","|synopsis"),d=this._createShowNavButton("BIOS","|bios"),g=this._createShowNavButton("BUZZ","|buzz"),c=this._createShowNavButton("GET TICKETS","|tix"),f=KIP.createSimpleElement("","menuItem","HOME");f.addEventListener("click",function(){b.navigate("",b.NavigationType.HOME)});var e=[];this._showData&&
(e.push(f),e.push(a),this._showData.shouldShowBioSection()&&e.push(d),this._showData.shouldShowBuzzSection()&&e.push(g),this._showData.shouldShowTicketSection()&&e.push(c));if(this._elems.showMenuElems)for(this._elems.showMenuElems.innerHTML="",a=0;a<e.length;a+=1)this._elems.showMenuElems.appendChild(e[a]);else this._elems.showMenuElems=KIP.createElement({cls:"showMnu menuItems hidden",children:e,parent:this._elems.menuElems})};c.prototype._createShowNavButton=function(a,d){var g=this;a=this._createHomeMenuItem({type:b.MenuTypeEnum.SECTION,
name:a,link:d});a.addEventListener("click",function(){b.scrollTo(g._showData.showTitle.id+d)});return a};c.prototype._createHomeMenuElements=function(){this._elems.menuElems=KIP.createElement({cls:"menuItems",parent:this._elems.home});this._elems.homeMenuElems=KIP.createElement({cls:"homeMnu menuItems",parent:this._elems.menuElems});for(var a,d=0,g=this._homeData.menuItems;d<g.length;d++){a=g[d];var c=this._createHomeMenuItem(a);a.type===b.MenuTypeEnum.SECTION&&c.addEventListener("click",function(){b.scrollTo(a.link)});
this._elems.homeMenuElems.appendChild(c)}};c.prototype._createHomeMenuItem=function(a){a=KIP.createElement({type:"a",cls:"menuLink",attr:{href:a.type===b.MenuTypeEnum.SECTION?"":a.link},content:a.name});return KIP.createSimpleElement("","menuItem","",null,[a])};c.prototype._createShowElements=function(){this._elems.show||(this._elems.show=KIP.createElement({cls:"show fade",parent:this._elems.wrapper}));this._createShowTitle();this._createShowStatistics();this._createShowMenuElements()};c.prototype._createShowTitle=
function(){var a=!1,d=this._showData&&this._showData.showTitle.title||"",b=this._showData&&this._showData.showTitle.subtitle||"";b&&(b=": "+b);var c=KIP.createElement({cls:"titleWrapper"});this._elems.showTitle?this._elems.showTitle.innerHTML=d:(this._elems.showTitle=KIP.createElement({content:d,cls:"showTitle",parent:c}),a=!0);this._elems.showSubtitle?this._elems.showSubtitle.innerHTML=b:(this._elems.showSubtitle=KIP.createElement({content:b,cls:"showSubtitle",parent:c}),a=!0);a&&this._elems.show.appendChild(c)};
c.prototype._createShowStatistics=function(){this._elems.showStats?this._elems.showStats.innerHTML="":this._elems.showStats=KIP.createElement({cls:"showStats",parent:this._elems.show});if(this._showData){this._showData.showTitle.writer===this._showData.showTitle.director?this._createShowStatistic("Written + Directed by",this._showData.showTitle.writer):(this._createShowStatistic("Written by",this._showData.showTitle.writer),this._createShowStatistic("Directed by",this._showData.showTitle.director));
var a=KIP.format("{0} - {1}",KIP.Dates.shortDate(this._showData.run.start),KIP.Dates.shortDate(this._showData.run.end));this._createShowStatistic("Runs",a)}};c.prototype._createShowStatistic=function(a,d){a=KIP.createSimpleElement("","lbl",a+":");d=KIP.createSimpleElement("","datum",d);return KIP.createElement({id:this._showData.showTitle.id+"|combo",cls:"combo",children:[a,d],parent:this._elems.showStats})};c.prototype.displayAsShow=function(a){this._showData!==a&&(this._showData&&this.displayAsHome(),
this._showData=a,this._updateShowElements(),this._changeShowVisibility(),this._swapMenu())};c.prototype.displayAsHome=function(){this._showData&&(this._showData=null,this._changeShowVisibility(),this._swapMenu())};c.prototype._updateShowElements=function(){this._createShowElements()};c.prototype._swapMenu=function(){this._showData?(KIP.addClass(this._elems.homeMenuElems,"hidden"),KIP.removeClass(this._elems.showMenuElems,"hidden")):(KIP.removeClass(this._elems.homeMenuElems,"hidden"),KIP.addClass(this._elems.showMenuElems,
"hidden"))};c.prototype._changeShowVisibility=function(){var a=this;this._showData?(KIP.removeClass(this._elems.show,"fade"),KIP.transition(this._elems.show,{maxWidth:"0",opacity:"0"},{maxWidth:"calc(<width> - 20px)",opacity:"1"},800)):KIP.transition(this._elems.show,{maxWidth:"<width>",opacity:"1"},{maxWidth:"0",opacity:"0"},800).then(function(){KIP.addClass(a._elems.show,"fade")})};c._uncoloredStyles={"#header":{position:"fixed",width:"100%",top:"0",left:"0",zIndex:"3"},"#header .header":{position:"relative",
width:"100%",color:"#FFF",display:"inline-block"},".header .headerWrapper":{display:"flex",flexDirection:"row",paddingBottom:"5px"},".header .headerWrapper .home":{paddingLeft:"105px",display:"flex",flexDirection:"column",justifyContent:"space-between",backgroundColor:"#222",boxShadow:"1px 1px 8px 4px rgba(0,0,0,.2)",paddingRight:"5%",paddingBottom:"10px"},".header .headerWrapper .homeName":{position:"relative"},".header .headerWrapper .homeTitle":{fontFamily:"OpenSansBold",textTransform:"uppercase",
fontSize:"2.5em"},".header .headerWrapper .bstLogo":{height:"105px",top:"0px",left:"-105px",position:"absolute"},".header .headerWrapper .menuItems":{display:"flex",justifyContent:"flex-start",transition:"opacity .4s ease-in-out",marginLeft:"0",overflow:"hidden"},".header .headerWrapper .menuItems.hidden":{opacity:"0",width:"0"},".header .headerWrapper .menuItems .menuItem":{textTransform:"uppercase",cursor:"pointer",paddingRight:"15px",whiteSpace:"nowrap"},".header .headerWrapper .menuItems .menuItem:hover":{textDecoration:"underline"},
".header .headerWrapper .menuItems .menuItem a.menuLink":{marginLeft:"0",marginRight:"0"},".header .headerWrapper .show":{flexGrow:"1",backgroundColor:"#1A1A1A",boxShadow:"1px 1px 8px 4px rgba(0,0,0,.2)",display:"flex",flexDirection:"column",alignItems:"flex-end",paddingRight:"5%",zIndex:"-1",paddingBottom:"10px",overflow:"hidden",whiteSpace:"nowrap"},".header .headerWrapper .show .titleWrapper":{display:"flex",alignItems:"baseline"},".header .headerWrapper .show .showTitle":{fontSize:"2.2em",fontFamily:"OpenSansBold",
textTransform:"uppercase",textAlign:"left"},".header .headerWrapper .show .showSubtitle":{fontSize:"1.5em",lineHeight:"0",opacity:"0.8",fontFamily:"OpenSansLight",marginBottom:"15px"},".header .headerWrapper .show .showStats":{display:"flex",justifyContent:"flex-start"},".header .headerWrapper .show .showStats .combo":{paddingLeft:"10px",textAlign:"center",display:"flex",alignItems:"center"},".header .headerWrapper .show .showStats .combo .lbl":{color:"rgba(255,255,255,.6)",fontSize:"0.9em",marginRight:"5px"},
".header .headerWrapper .show.fade":{maxWidth:"0",padding:"0"}};return c}(b.View);b.BSTHeader=e})(BST||(BST={}));
(function(b){(function(e){var f=function(c){function a(a){var d=c.call(this,{cls:"adminHomeForm"})||this;d._data=a;d._createElements();return d}__extends(a,c);Object.defineProperty(a.prototype,"form",{get:function(){return this._form},enumerable:!0,configurable:!0});a.prototype._createTitle=function(){this._elems.title=KIP.createElement({cls:"title",content:"Editing BST Home",parent:this._elems.base})};a.prototype._createElements=function(){this._createTitle();this._createForm()};a.prototype._createForm=
function(){var a=this;this._form=new KIP.Forms.Form("home",{label:"BST Home",colors:["#EA0","#555"]},{about:new KIP.Forms.SectionElement("about",{label:"About Broom Street"},{general:new KIP.Forms.TextAreaElement("general",{label:"General Info"}),board:new KIP.Forms.ArrayElement("board",{label:"Board Members"},{name:new KIP.Forms.TextElement("boardMember",{label:"Board Member Name"}),position:new KIP.Forms.TextElement("boardPosition",{label:"Position on the board"})}),staff:new KIP.Forms.ArrayElement("staff",
{label:"Staff Members"},{name:new KIP.Forms.TextElement("staffMember",{label:"Staff Member Name"}),position:new KIP.Forms.TextElement("staffPosition",{label:"Position on staff"})}),bylaws:new KIP.Forms.TextAreaElement("bylaws",{label:"ByLaws"}),history:new KIP.Forms.TextAreaElement("history",{label:"History of Broom Street"}),detailedHistory:new KIP.Forms.ArrayElement("detailedHistory",{label:"Detailed History"},{date:new KIP.Forms.DateElement("detailedHxDate",{label:"Date of Event"}),header:new KIP.Forms.TextElement("detailedHxTitle",
{label:"Title of Event"}),details:new KIP.Forms.TextAreaElement("detailedHxDetails",{label:"Details of Event"})})}),news:new KIP.Forms.ArrayElement("news",{label:"News"},{title:new KIP.Forms.TextElement("newsTitle",{label:"Title"}),content:new KIP.Forms.TextAreaElement("newsContent",{label:"Content"}),author:new KIP.Forms.TextElement("newsAuthor",{label:"Author"}),date:new KIP.Forms.DateTimeElement("newsDate",{label:"Date"}),isImportant:new KIP.Forms.CheckElement("newsImportant",{label:"Keep on front page?"})}),
getInvolved:new KIP.Forms.SectionElement("getinvolved",{label:"Get Involved"},{technicians:new KIP.Forms.ArrayElement("techInvolvement",{label:"Technicians"},{icon:new KIP.Forms.PhotoPathElement("involveIcon",{label:"Icon",onChange:function(a){return"img/home/getInvolved/"+a[0].name},onSave:function(a){b.Server.saveGetInvolvedPhoto(a[0],function(a){})}}),text:new KIP.Forms.TextElement("involveText",{label:"Short description"}),content:new KIP.Forms.TextAreaElement("involvedContent",{label:"Detailed Description"}),
contactInfo:new KIP.Forms.SectionElement("involveContact",{label:"Contact Info"},{name:new KIP.Forms.TextElement("involveContactName",{label:"Contact's name"}),email:new KIP.Forms.TextElement("involveContactEmail",{label:"Contact E-Mail"}),phone:new KIP.Forms.TextElement("involveContactPhone",{label:"Phone Number"})})}),actors:new KIP.Forms.ArrayElement("techInvolvement",{label:"Actors"},{icon:new KIP.Forms.PhotoPathElement("involveIcon",{label:"Icon",onChange:function(a){return"img/home/getInvolved/"+
a[0].name},onSave:function(a){b.Server.saveGetInvolvedPhoto(a[0],function(a){})}}),text:new KIP.Forms.TextElement("involveText",{label:"Short description"}),content:new KIP.Forms.TextAreaElement("involvedContent",{label:"Detailed Description"}),contactInfo:new KIP.Forms.SectionElement("involveContact",{label:"Contact Info"},{name:new KIP.Forms.TextElement("involveContactName",{label:"Contact's name"}),email:new KIP.Forms.TextElement("involveContactEmail",{label:"Contact E-Mail"}),phone:new KIP.Forms.TextElement("involveContactPhone",
{label:"Phone Number"})})}),writers:new KIP.Forms.ArrayElement("techInvolvement",{label:"Writers"},{icon:new KIP.Forms.PhotoPathElement("involveIcon",{label:"Icon",onChange:function(a){return"img/home/getInvolved/"+a[0].name},onSave:function(a){b.Server.saveGetInvolvedPhoto(a[0],function(a){})}}),text:new KIP.Forms.TextElement("involveText",{label:"Short description"}),content:new KIP.Forms.TextAreaElement("involvedContent",{label:"Detailed Description"}),contactInfo:new KIP.Forms.SectionElement("involveContact",
{label:"Contact Info"},{name:new KIP.Forms.TextElement("involveContactName",{label:"Contact's name"}),email:new KIP.Forms.TextElement("involveContactEmail",{label:"Contact E-Mail"}),phone:new KIP.Forms.TextElement("involveContactPhone",{label:"Phone Number"})})}),directors:new KIP.Forms.ArrayElement("techInvolvement",{label:"Directors"},{icon:new KIP.Forms.PhotoPathElement("involveIcon",{label:"Icon",onChange:function(a){return"img/home/getInvolved/"+a[0].name},onSave:function(a){b.Server.saveGetInvolvedPhoto(a[0],
function(a){})}}),text:new KIP.Forms.TextElement("involveText",{label:"Short description"}),content:new KIP.Forms.TextAreaElement("involvedContent",{label:"Detailed Description"}),contactInfo:new KIP.Forms.SectionElement("involveContact",{label:"Contact Info"},{name:new KIP.Forms.TextElement("involveContactName",{label:"Contact's name"}),email:new KIP.Forms.TextElement("involveContactEmail",{label:"Contact E-Mail"}),phone:new KIP.Forms.TextElement("involveContactPhone",{label:"Phone Number"})})}),
general:new KIP.Forms.ArrayElement("techInvolvement",{label:"General"},{icon:new KIP.Forms.PhotoPathElement("involveIcon",{label:"Icon",onChange:function(a){return"img/home/getInvolved/"+a[0].name},onSave:function(a){b.Server.saveGetInvolvedPhoto(a[0],function(a){})}}),text:new KIP.Forms.TextElement("involveText",{label:"Short description"}),content:new KIP.Forms.TextAreaElement("involvedContent",{label:"Detailed Description"}),contactInfo:new KIP.Forms.SectionElement("involveContact",{label:"Contact Info"},
{name:new KIP.Forms.TextElement("involveContactName",{label:"Contact's name"}),email:new KIP.Forms.TextElement("involveContactEmail",{label:"Contact E-Mail"}),phone:new KIP.Forms.TextElement("involveContactPhone",{label:"Phone Number"})})})}),menuItems:new KIP.Forms.ArrayElement("menus",{label:"Menu Options"},{name:new KIP.Forms.TextElement("menuName",{label:"Menu link name"}),type:new KIP.Forms.SingleSelectButtonElem("menuType",{label:"What type of link is this?",options:[{label:"External",value:b.MenuTypeEnum.EXTERNAL},
{label:"Section",value:b.MenuTypeEnum.SECTION}]}),link:new KIP.Forms.TextElement("menuLink",{label:"Where does this link go?"})}),logoURL:new KIP.Forms.PhotoPathElement("logoURL",{label:"Logo",onChange:function(a){return"img/home/logo/"+a[0].name},onSave:function(a){b.Server.saveLogoPhoto(a[0],function(a){})}}),bgURL:new KIP.Forms.PhotoPathElement("backgroundImg",{label:"Background Image",onChange:function(a){return"img/home/bg/"+a[0].name},onSave:function(a){b.Server.saveBgPhoto(a[0],function(a){})}}),
resources:new KIP.Forms.ArrayElement("resources",{label:"Resources"},{name:new KIP.Forms.TextElement("resourceName",{label:"Name"}),content:new KIP.Forms.TextAreaElement("resourceContent",{label:"Details"}),link:new KIP.Forms.TextElement("resourceLink",{label:"Link"})}),donateInfo:new KIP.Forms.SectionElement("donate",{label:"Donation Info"},{blurb:new KIP.Forms.TextAreaElement("donateBlurb",{label:"Donate Blurb"}),paypalAccount:new KIP.Forms.TextElement("paypalID",{label:"Paypal ID"})})});this._form.draw(this._elems.base);
this._data&&this._form.update(this._data);this._form.registerSaveListener(function(d){a._saveData(d)})};a.prototype._saveData=function(a){b.Server.saveHome(a,function(){var a=new KIP.ToastPopup("BST home details saved!");a.setThemeColor(0,"#EA0");a.draw(document.body)})};a.prototype.update=function(a){this._form.update(a)};return a}(b.View);e.HomeForm=f})(b.Admin||(b.Admin={}))})(BST||(BST={}));
(function(b){(function(e){var f=function(c){function a(a){var d=c.call(this,{cls:"adminShowForm"})||this;d._unsavedID=!0;d._seasons=a;d._createElements();return d}__extends(a,c);Object.defineProperty(a.prototype,"form",{get:function(){return this._form},enumerable:!0,configurable:!0});a.prototype._shouldSkipCreateElements=function(){return!0};a.prototype._createTitle=function(){this._elems.title=KIP.createElement({cls:"title",content:"Editing Show"})};a.prototype._createSelectElement=function(){var a=
KIP.createElement({id:"adminDetails",cls:"showSelect",parent:this._elems.base});this._elems.select=KIP.createElement({type:"select",id:"showSelector",parent:a});return this._elems.select};a.prototype._updateSelectForSeasons=function(){var a=this._elems.select;a.innerHTML="<option value='new'>-- Add a New Show --</option>";var c;this._seasons=b.Helpers.sortSeasons(this._seasons);for(c=0;c<this._seasons.length;c+=1){var h=this._seasons[c],f=(new Date(h.endDate)).getFullYear().toString();KIP.createElement({type:"option",
attr:{value:h.id},content:f+" - "+h.name,parent:a})}};a.prototype._loadShowData=function(a){var d=this;"new"===a?(this._form.clear(),this._unsavedID=!0):b.Server.loadShow(a,function(b){d._loadedShowID=a;d._unsavedID=!1;d._form.clear();d._form.update(b)})};a.prototype._adminSaveShow=function(a){var d=this,c=b.Helpers.getShowStartAndEndDates(a);b.Server.saveShow(a,function(g){g=new KIP.ToastPopup((a.showTitle.title||"Show")+" successfully saved!");g.setThemeColor(0,"#EA0");g.draw(document.body);g={endDate:KIP.Dates.shortDate(c.end),
id:a.showTitle.id,name:a.showTitle.title+(a.showTitle.subtitle?": "+a.showTitle.subtitle:""),icon:a.showTitle.icon};d._addShowToSeason(g);b.Server.saveSeasons(d._seasons,function(b){d._seasons=b;d._updateSelectForSeasons();d._elems.select.value!==a.showTitle.id&&(d._elems.select.value=a.showTitle.id)})})};a.prototype._turnDatesToShowID=function(a){a.sort();return a[0].getFullYear().toString()};a.prototype._turnNameToShowID=function(a){return a.replace(/[^a-zA-Z0-9]/g,"")};a.prototype._addShowToSeason=
function(a){var d=0;for(d;d<this._seasons.length;d+=1){var b=this._seasons[d];if(b.id===a.id||b.name===a.name)return this._seasons[d]=a,!0}this._seasons.push(a);return!0};a.prototype._createElements=function(){var a=this;this._createTitle();this._createSelectElement();this._updateSelectForSeasons();this._createForm();KIP.Events.addEventListener(KIP.Forms.FORM_ELEM_CHANGE,{func:function(d){"id"===d.context.key&&(a._loadedShowID=d.context.val)}})};a.prototype._createForm=function(){var a=this,c=new KIP.Forms.Form("showForm",
{colors:["#EA0","#555"],label:"Show Details"},{showTitle:new KIP.Forms.SectionElement("showTitle",{label:"High-level show details"},{id:new KIP.Forms.HiddenElement("id",{onOtherChange:function(d,b,c){if(a._unsavedID&&("title"===d||"runDates"===d||"subtitle"===d)){var g=(c.data||"__").split("_");"title"===d?(d=a._turnNameToShowID(b),g[0]=d):"subtitle"===d?(d=a._turnNameToShowID(b),g[1]=d):(d=a._turnDatesToShowID(b),g[2]=d);for(d=0;3>d;d+=1)g[d]||(g[d]="");c.data=g.join("_")}}}),title:new KIP.Forms.TextElement("title",
{label:"Title of the show",required:!0}),subtitle:new KIP.Forms.TextElement("subtitle",{label:"Subtitle of the show (optional)"}),writer:new KIP.Forms.TextElement("writer",{label:"Writer of the show"}),director:new KIP.Forms.TextElement("director",{label:"Director of the show"}),icon:new KIP.Forms.PhotoPathElement("icon",{label:"Icon",onChange:function(d){return"img/shows/"+a._loadedShowID+"/icons/"+d[0].name},onSave:function(d){b.Server.saveIconPhoto(d[0],a._loadedShowID,function(a){})}}),bptLink:new KIP.Forms.TextElement("link",
{label:"Brown Paper Ticket event ID"})}),showDetails:new KIP.Forms.SectionElement("showDetails",{label:"Deeper show details"},{synopsis:new KIP.Forms.TextAreaElement("synopsis",{label:"Show synopsis"}),warnings:new KIP.Forms.TextElement("warnings",{label:"What warnings should be displayed for the show?"}),showLength:new KIP.Forms.NumberElement("showLength",{label:"Length of show"}),hasIntermission:new KIP.Forms.CheckElement("hasIntermission",{label:"Does the show have an intermission?"}),isKidFriendly:new KIP.Forms.CheckElement("isKidFriendly",
{label:"Is the show kid friendly?"})}),runDates:new KIP.Forms.ArrayElement("runDates",{label:"Dates",newLabel:"+ New Date"},new b.DateSelector("showdate",{label:"Run date"})),bios:new KIP.Forms.ArrayElement("bios",{label:"Cast + Crew Bios",newLabel:"+ New Bio"},{imageURL:new KIP.Forms.PhotoPathElement("imageURL",{label:"Photo of cast / crew member",onChange:function(a){return"img/actors/"+a[0].name},onSave:function(a){b.Server.saveActorPhoto(a[0],function(a){})}}),actorName:new KIP.Forms.TextElement("actorName",
{label:"Person Name"}),roleName:new KIP.Forms.TextElement("roleName",{label:"Role Name"}),bio:new KIP.Forms.TextAreaElement("bio",{label:"Bio"}),website:new KIP.Forms.TextElement("website",{label:"Person's website"}),type:new KIP.Forms.SingleSelectButtonElem("bioType",{label:"Type",options:[{value:b.CastOrCrew.CAST,label:"Cast"},{value:b.CastOrCrew.CREW,label:"Crew"},{value:b.CastOrCrew.SPECIAL_MENTION,label:"Special Mention"}]})}),reviews:new KIP.Forms.ArrayElement("reviews",{label:"Reviews",newLabel:"+ New Review"},
{reviewer:new KIP.Forms.TextElement("reviewer",{label:"Reviewer"}),date:new KIP.Forms.DateElement("reviewDate",{label:"Date of review"}),link:new KIP.Forms.TextElement("link",{label:"Link to review"}),review:new KIP.Forms.TextAreaElement("review",{label:"Review Text"})}),photos:new KIP.Forms.ArrayElement("photos",{label:"Photos",newLabel:"+ New Photo"},{url:new KIP.Forms.PhotoPathElement("photoURL",{label:"URL",onChange:function(d){return"img/shows/"+a._loadedShowID+"/photos/"+d[0].name},onSave:function(d){b.Server.saveShowPhoto(d[0],
a._loadedShowID,function(a){})}}),photographer:new KIP.Forms.TextElement("photographer",{label:"Photographer / Artist"}),copyrightText:new KIP.Forms.TextElement("copyright",{label:"Copyright info"}),isPoster:new KIP.Forms.CheckElement("isPoster",{label:"Is this a poster for the show?"}),isHilite:new KIP.Forms.CheckElement("isHilite",{label:"Is this the photo that should show for the show on the homepage?"})}),auditions:new KIP.Forms.SectionElement("auditions",{label:"Audition Info"},{dates:new KIP.Forms.ArrayElement("auditionDates",
{label:"Audition Dates",required:!0},{start:new KIP.Forms.DateTimeElement("auditionStart",{label:"Audition start"}),end:new KIP.Forms.TimeElement("auditionEnd",{label:"Audition End"}),location:new KIP.Forms.SectionElement("location",{label:"Audition Location"},{name:new KIP.Forms.TextElement("addressName",{label:"Audition Location Name"}),addressLines:new KIP.Forms.TextAreaElement("adressLines",{label:"Address"}),city:new KIP.Forms.TextElement("addressCity",{label:"City"}),state:new KIP.Forms.TextElement("addressState",
{label:"State"}),zip:new KIP.Forms.NumberElement("zip",{label:"Zip Code"})})}),characters:new KIP.Forms.ArrayElement("characters",{label:"Characters being auditioned",newLabel:"+ New Audition Character"},{name:new KIP.Forms.TextElement("characterName",{label:"Character Name"}),description:new KIP.Forms.TextAreaElement("characterDescription",{label:"Description"}),gender:new KIP.Forms.SingleSelectButtonElem("gender",{label:"Gender",options:[{label:"No Preference",value:b.IGenderEnum.NO_PREFERENCE},
{label:"Female",value:b.IGenderEnum.FEMALE},{label:"Male",value:b.IGenderEnum.MALE},{label:"Non-Binary",value:b.IGenderEnum.NON_BINARY}]}),minAge:new KIP.Forms.NumberElement("minAge",{label:"Age (low)"}),maxAge:new KIP.Forms.NumberElement("maxAge",{label:"Age (high)"})}),expectations:new KIP.Forms.MultiSelectButtonElem("expectations",{label:"Audition expectations",options:[{value:b.AuditionExpectationType.MONOLOGUE,label:"Monologue"},{value:b.AuditionExpectationType.COLD_READ,label:"Cold Read"},{value:b.AuditionExpectationType.DANCE_CALL,
label:"Dance call"},{value:b.AuditionExpectationType.SINGING,label:"Singing"},{value:b.AuditionExpectationType.IMPROV,label:"Improv"}]}),contactInfo:new KIP.Forms.TextElement("contactInfo",{label:"Who is the point of contact?"}),reservationLink:new KIP.Forms.TextElement("reservationLink",{label:"Link to reserve a spot"})})});c.registerSaveListener(function(d){a._adminSaveShow(d)});c.draw(this._elems.base);this._elems.select.addEventListener("change",function(){a._loadShowData(a._elems.select.value)});
this._form=c};a.prototype._testWebService=function(){b.Server.testBptAPI("3175964",function(a){console.log(a)})};a.prototype.update=function(a){this._seasons=a;this._updateSelectForSeasons();this._form.clear()};a._uncoloredStyles={".adminShowForm":{marginTop:"3em"},".adminShowForm .showSelect":{display:"flex",justifyContent:"center"},".adminShowForm .showSelect #showSelector":{fontSize:"1.2em",width:"50%",marginBottom:"10px",marginTop:"10px",fontFamily:"OpenSansLight"}};return a}(b.View);e.ShowForm=
f})(b.Admin||(b.Admin={}))})(BST||(BST={}));
(function(b){(function(e){var f=function(c){function a(){var a=c.call(this,{cls:"admin"})||this;a._isLoggedIn=!1;return a}__extends(a,c);a.prototype._shouldSkipCreateElements=function(){return!1};a.prototype._createElements=function(){this._createContent();this._createTopMenu();this._isLoggedIn&&this._createMenu()};a.prototype._createLoginElements=function(){var a=this;this._createGoogleButton();this._elems.googleDeets=KIP.createElement({cls:"loginInfo"});this._elems.logoutBtn=KIP.createElement({cls:"logout btn hidden",
content:"LOGOUT"});this._elems.logoutBtn.addEventListener("click",function(){a._signOut()});var b=KIP.createElement({cls:"elgoog",children:[this._elems.googleDeets,this._elems.logoutBtn,this._elems.googleBtn]});this._elems.googleHelpText=KIP.createElement({cls:"helptext",content:"Log into your Broom Street email account to access the administrative tools",parent:this._elems.contentPane});return b};a.prototype._createGoogleButton=function(){var a=this;gapi.load("auth2",function(){gapi.auth2.init({client_id:"835724530357-rsdkjat0b8vai2msb2aj11l4kc11t61s.apps.googleusercontent.com",
hd:"bstonline.org"}).currentUser.listen(function(a){a.getBasicProfile()})});this._elems.googleBtn=KIP.createElement({id:"elgoog",cls:"g-signin2",parent:this._elems.topMenu});window.setTimeout(function(){gapi.signin2.render("elgoog",{scope:"profile email",longtitle:!1,theme:"light",onsuccess:function(d){a._onSignIn(d)},onfailure:function(){console.log("error occurred")}})},10);return this._elems.googleBtn};a.prototype._createTopMenu=function(){var a=this;this._elems.backBtn=KIP.createElement({cls:"back hidden btn",
content:"BACK"});this._elems.backBtn.addEventListener("click",function(){a._canReturnToMenu()&&a.returnToMenu()});var b=this._createLoginElements();this._elems.topMenu=KIP.createElement({cls:"topMenu",parent:this._elems.base,children:[this._elems.backBtn,b]})};a.prototype._createContent=function(){this._elems.contentPane=KIP.createElement({cls:"content",parent:this._elems.base})};a.prototype._createMenu=function(){var a=this,b=KIP.createElement({content:"Edit details that show on the BST home page",
cls:"menuItem"});b.addEventListener("click",function(){a._showHomeForm()});var c=KIP.createElement({cls:"menuItem",content:"Create or edit a show"});c.addEventListener("click",function(){a._showShowForm()});var f=KIP.createElement({cls:"menuItem",content:"Delete a show"});f.addEventListener("click",function(){a._showDeleteForm()});this._elems.menu=KIP.createElement({cls:"menu",parent:this._elems.contentPane,children:[{cls:"title",content:"ADMINISTRATIVE TASKS"},b,c,f]})};a.prototype._showHomeForm=
function(){var a=this,c=new KIP.LoadingShield("Loading BST Home...");c.draw(document.body);b.Server.loadHome(function(d){console.log("loading again");a._homeForm?a._homeForm.update(d):(a._homeForm=new e.HomeForm(d),a._homeForm.form.registerCancelListener(function(){a.returnToMenu()}));a._elems.contentPane.innerHTML="";a._elems.contentPane.appendChild(a._homeForm.base);KIP.removeClass(a._elems.backBtn,"hidden");a._currentlyShowing="home";c.erase()})};a.prototype._showShowForm=function(){var a=this,
c=new KIP.LoadingShield("Loading shows...");c.draw(document.body);b.Server.loadSeasons(function(d){a._showForm?a._showForm.update(d):(a._showForm=new e.ShowForm(d),a._showForm.form.registerCancelListener(function(){a.returnToMenu()}));a._elems.contentPane.innerHTML="";a._elems.contentPane.appendChild(a._showForm.base);KIP.removeClass(a._elems.backBtn,"hidden");a._currentlyShowing="show";c.erase()})};a.prototype._showDeleteForm=function(){var a=this,c=new KIP.LoadingShield("Loading shows...");c.draw(document.body);
b.Server.loadSeasons(function(d){a._deleteForm?a._deleteForm.update(d):a._deleteForm=new e.DeleteShowForm(d);a._elems.contentPane.innerHTML="";a._elems.contentPane.appendChild(a._deleteForm.base);KIP.removeClass(a._elems.backBtn,"hidden");a._currentlyShowing="delete";c.erase()})};a.prototype._canReturnToMenu=function(){switch(this._currentlyShowing){case "home":if(!this._homeForm.form.tryCancel())return!1;break;case "show":if(!this._showForm.form.tryCancel())return!1}return!0};a.prototype.returnToMenu=
function(){this._elems.contentPane.innerHTML="";this._elems.contentPane.appendChild(this._elems.menu);KIP.addClass(this._elems.backBtn,"hidden");this._currentlyShowing="menu"};a.prototype._onSignIn=function(a){var d=this,c=a.getBasicProfile();this._googleProfile&&c.getId()===this._googleProfile.getId()||(this._googleProfile=c,a=a.getAuthResponse().id_token,b.Server.login(a,function(){d._onSignedIn()},function(){d._onSignInFailure()}),window.addEventListener("beforeunload",function(){d._signOut()}))};
a.prototype._onSignedIn=function(){this._elems.menu||this._createMenu();this._elems.googleBtn.style.display="none";this._elems.googleDeets.innerHTML="Logged in as: "+this._googleProfile.getName();KIP.addClass(this._elems.googleHelpText,"hidden");KIP.removeClass(this._elems.logoutBtn,"hidden");this._isLoggedIn=!0};a.prototype._onSignInFailure=function(){(new KIP.ErrorPopup("We couldn't log you in securely. Are you using a BST email?")).draw(document.body);this._signOut()};a.prototype._signOut=function(){var a=
this;gapi.auth2.getAuthInstance().signOut().then(function(){a._googleProfile=null;KIP.addClass(a._elems.logoutBtn,"hidden");a._elems.googleDeets.innerHTML="";a._elems.googleBtn.style.display="block";KIP.removeClass(a._elems.googleHelpText,"hidden");a._elems.menu&&a._elems.menu.parentNode&&(a._elems.menu.parentNode.removeChild(a._elems.menu),a._elems.menu=void 0,b.Server.logout())})};a._uncoloredStyles={body:{backgroundColor:"#333",margin:"0",padding:"0"},".admin":{fontFamily:"OpenSansLight"},".admin .kipForm":{backgroundColor:"#FFF"},
".admin .topMenu":{backgroundColor:"#222",display:"flex",justifyContent:"space-between",boxShadow:"0px 1px 5px 3px rgba(0,0,0,.2)",color:"#FFF",fontSize:"1.2em",position:"fixed",left:"0",top:"0",width:"100%",padding:"5px",boxSizing:"border-box"},".admin .topMenu .btn":{cursor:"pointer"},".admin .topMenu .btn:hover":{transform:"scale(1.1)"},".admin .logout.hidden, .admin .helptext.hidden":{display:"none"},".admin .hidden":{opacity:"0"},".admin .topMenu .elgoog":{display:"flex",alignSelf:"flex-end",
padding:"3px",alignItems:"center"},".admin .topMenu .loginInfo":{paddingRight:"20px",opacity:"0.7",fontSize:"0.9em"},".admin .menu":{backgroundColor:"#FFF",marginTop:"5%",width:"100%",boxSizing:"border-box",paddingLeft:"20%",paddingRight:"20%",paddingBottom:"10px",paddingTop:"10px"},".admin .menu .title":{fontSize:"2em",fontFamily:"OpenSansBold",marginBottom:"20px"},".admin .menu .menuItem":{fontSize:"1.3em",marginBottom:"20px",cursor:"pointer",transformOrigin:"0 0",transition:"all ease-in-out .1s"},
".admin .menu .menuItem:hover":{transform:"scale(1.1)"},".admin .content .helptext":{fontSize:"1.3em",opacity:"0.5",color:"#FFF",textAlign:"center",position:"relative",marginTop:"5%"}};return a}(b.View);e.AdminView=f})(b.Admin||(b.Admin={}))})(BST||(BST={}));
(function(b){(function(e){var f=function(c){function a(a){var d=c.call(this)||this;d._seasons=a;d._createElements();return d}__extends(a,c);a.prototype._createElements=function(){this._elems.base=KIP.createElement({cls:"showDelete"});KIP.createElement({cls:"title",content:"Deleting Shows",parent:this._elems.base});this._createShows()};a.prototype._createShows=function(){this._elems.shows||(this._elems.shows=KIP.createElement({cls:"shows",parent:this._elems.base}));for(var a,b=0,c=this._seasons;b<
c.length;b++)a=c[b],a=this._createShowLine(a),this._elems.shows.appendChild(a)};a.prototype._createShowLine=function(a){var d=this,b=KIP.createElement({cls:"showRow"});KIP.createElement({cls:"showname",content:a.name+(a.subtitle?": "+a.subtitle:""),parent:b});KIP.createElement({cls:"delete btn",content:"DELETE",parent:b}).addEventListener("click",function(){d._confirmDeletion(a)});return b};a.prototype._confirmDeletion=function(a){var d=this,c=new KIP.YesNoPopup("Are you sure you want to delete this show?",
function(g){g===KIP.YesNoEnum.YES&&(KIP.remove(d._seasons,a,!0,function(a,d){return a.id===d.id}),b.Server.saveSeasons(d._seasons,function(a){d.update(a)}),c.erase())});c.setThemeColor(0,"#EA0");c.draw(document.body)};a.prototype.update=function(a){this._seasons=a;this._elems.shows.innerHTML="";this._createShows()};a._uncoloredStyles={".showDelete":{width:"100%",boxSizing:"border-box",paddingLeft:"20%",paddingRight:"20%",backgroundColor:"#FFF",marginTop:"5%",paddingBottom:"20px"},".showDelete .title":{fontSize:"2em",
fontFamily:"OpenSansBold",textTransform:"uppercase",marginBottom:"10px"},".showRow":{display:"flex",justifyContent:"space-between",padding:"10px 10px"},".showRow .showname":{fontSize:"1.3em",paddingRight:"10px"},".showRow .delete":{cursor:"pointer",backgroundColor:"#C30",color:"#FFF",fontSize:"1.1em",padding:"3px 10px",borderRadius:"2px"},".showRow .delete:hover":{transform:"scale(1.1)",transformOrigin:"50% 50%"}};return a}(b.View);e.DeleteShowForm=f})(b.Admin||(b.Admin={}))})(BST||(BST={}));
(function(b){var e;(function(a){a[a.GENERAL=1]="GENERAL";a[a.HISTORY=2]="HISTORY";a[a.BOARD=3]="BOARD";a[a.BYLAWS=4]="BYLAWS"})(e||(e={}));e=function(g){function e(){return null!==g&&g.apply(this,arguments)||this}__extends(e,g);e.prototype._createSectionElements=function(){this._sectionContent=new b.SubSections;var g=new f(this._data.general,"MISSION"),e=new a(this._data,"HISTORY"),h=new c(this._data,"BOARD + STAFF"),n=new d(this._data.bylaws,"BYLAWS + POLICIES");this._sectionContent.addSubSections(g,
e,h,n);this._elems.content.appendChild(this._sectionContent.base)};return e}(b.SectionView);b.AboutSection=e;var f=function(a){function d(){return null!==a&&a.apply(this,arguments)||this}__extends(d,a);d.prototype._createContent=function(){this._elems.content=KIP.createSimpleElement("","general aboutSection",this._data)};return d}(b.SubSection),c=function(a){function d(){return null!==a&&a.apply(this,arguments)||this}__extends(d,a);d.prototype._getUncoloredStyles=function(){return this._mergeThemes(d._uncoloredStyles,
b.SubSection._uncoloredStyles)};d.prototype._createContent=function(){var a=this._createBoardSection(),d=this._createStaffSection();this._elems.content=KIP.createSimpleElement("","staffBoard aboutSection","",null,[d,a])};d.prototype._createBoardSection=function(){return this._createLeadersSection("BROOM STREET BOARD",this._data.board,"board")};d.prototype._createStaffSection=function(){return this._createLeadersSection("BROOM STREET STAFF",this._data.staff,"staff")};d.prototype._createLeadersSection=
function(a,d,b){a=KIP.createSimpleElement("","subheader",a);for(var c=KIP.createSimpleElement("",b+" leaders"),g,f=0;f<d.length;f++)g=d[f],g=this._createLeaderElem(g),c.appendChild(g);return KIP.createSimpleElement("",b+" subsection","",null,[a,c])};d.prototype._createLeaderElem=function(a){var d=KIP.createSimpleElement("","leader lbl",a.position);a=KIP.createSimpleElement("","leader name",a.name);return KIP.createSimpleElement("","leader","",null,[d,a])};d._uncoloredStyles={".leaders":{display:"table"},
".leader":{fontFamily:"OpenSansLight",alignItems:"center",marginBottom:"5px",justifyContent:"center",boxSizing:"border-box",display:"table-row"},".leader .lbl":{marginRight:"15px",fontSize:"0.7em",textTransform:"uppercase",fontFamily:"OpenSans",textAlign:"right",display:"block",boxSizing:"border-box"},".leader .name":{textAlign:"left",boxSizing:"border-box",display:"table-cell"}};return d}(b.SubSection),a=function(a){function d(){return null!==a&&a.apply(this,arguments)||this}__extends(d,a);d.prototype._createContent=
function(){this._elems.content=KIP.createElement({cls:"history aboutSection"});this._data.detailedHistory?this._createDetailedHistory():this._createSimpleHistory()};d.prototype._createSimpleHistory=function(){this._elems.content.innerHTML=this._data.history};d.prototype._createDetailedHistory=function(){var a=this;this._data.detailedHistory=this._data.detailedHistory.sort(function(a,d){return a.date||d.date?a.date?!d.date||a.date<d.date?-1:a.date>d.date?1:0:1:0});this._data.detailedHistory.map(function(d){d=
a._createHistoryEvent(d);a._elems.content.appendChild(d)})};d.prototype._createHistoryEvent=function(a){var d=KIP.createElement({cls:"timelineEvent"});KIP.createElement({cls:"timelineDate",content:a.date?a.date.getFullYear().toString():"",parent:d});var b=KIP.createElement({cls:"eventDetailsWrapper",parent:d});KIP.createElement({cls:"eventTitle",content:a.header,parent:b});KIP.createElement({cls:"eventDetails",content:a.details,parent:b});return d};d._uncoloredStyles={".timelineEvent":{display:"flex"},
".timelineEvent + .timelineEvent":{marginTop:"2em"},".timelineEvent .timelineDate":{textTransform:"uppercase",fontSize:"0.8em",fontFamily:"OpenSansBold",paddingTop:"4px",width:"10%",color:"#444"},".timelineEvent .eventDetailsWrapper":{marginLeft:"10px",width:"90%"},".timelineEvent .eventTitle":{fontSize:"1.2em",fontFamily:"OpenSansBold"},".timelineEvent .eventDetails":{fontSize:"0.9em",fontFamily:"OpenSansLight"}};return d}(b.SubSection),d=function(a){function d(){return null!==a&&a.apply(this,arguments)||
this}__extends(d,a);d.prototype._getUncoloredStyles=function(){return this._mergeThemes(d._uncoloredStyles,b.SubSection._uncoloredStyles)};d.prototype._createContent=function(){var a=KIP.createElement({cls:"bylaws lbl",content:"View current bylaws"}),d=KIP.createElement({type:"a",cls:"bylaws link",content:"here",attr:{href:this._data}});this._elems.content=KIP.createElement({cls:"bylaws aboutSection hidden",children:[a,d]})};d._uncoloredStyles={".about .bylaws":{display:"flex"},".about .bylaws a":{color:"#333 !important",
textDecoration:"underline"}};return d}(b.SubSection)})(BST||(BST={}));
(function(b){var e=function(a){function d(){return null!==a&&a.apply(this,arguments)||this}__extends(d,a);d.prototype._createSectionElements=function(){this._sectionContent=new b.SubSections;var a=new c(this._data.technicians,"TECHNICIANS"),d=new c(this._data.actors,"ACTORS"),f=new c(this._data.writers,"WRITERS"),e=new c(this._data.directors,"DIRECTORS"),l=new c(this._data.general,"VOLUNTEERS");this._sectionContent.addSubSections(a,d,f,e,l);this._elems.content.appendChild(this._sectionContent.base)};
d._uncoloredStyles={};return d}(b.SectionView);b.GetInvolvedSection=e;var f=function(a){function d(d){var b=a.call(this)||this;b._data=d;b.setThemeColor(0,"#EA0");b._createElements();return b}__extends(d,a);d.prototype._getUncoloredStyles=function(){return this._mergeThemes(d._uncoloredStyles,KIP.Popup._uncoloredStyles)};d.prototype._shouldSkipCreateElements=function(){return!this._data};d.prototype._createElements=function(){a.prototype._createElements.call(this);var d=[{cls:"popupTitleContainer",
children:[{cls:"image "+(this._data.icon?"":"noIcn"),children:[{type:"img",attr:{src:this._data.icon}}]},{cls:"popupTitle",content:this._data.text}]},{cls:"popupContent",content:this._data.content}];this._data.contactInfo&&this._data.contactInfo.name&&(d.push({cls:"contactLbl",content:"Interested? Contact "}),d.push({cls:"contactInfo",children:[,{cls:"contactName",content:this._data.contactInfo.name},{cls:"contactEmail",children:[{type:"a",content:this._data.contactInfo.email,attr:{href:"mailto:"+
this._data.contactInfo.email}}]},{cls:"contactPhone",content:this._data.contactInfo.phone}]}));this.addContent({cls:"bstContent",children:d})};d.prototype.draw=function(d){a.prototype.draw.call(this,d);document.body.style.overflow="hidden"};d.prototype.erase=function(){a.prototype.erase.call(this);document.body.style.overflow="auto"};d._uncoloredStyles={".popup":{zIndex:"5"},".popup .frame":{maxWidth:"50%",maxHeight:"80%",position:"relative"},".popup .frame .content":{padding:"20px",overflowY:"auto",
maxHeight:.8*window.innerHeight-40+"px"},".popup .frame .content .bstContent":{overflowY:"auto",display:"flex",flexDirection:"column"},".popupTitle":{fontSize:"2em",fontFamily:"OpenSansBold"},".popupContent":{marginTop:"10px"},".contactLbl":{color:"#555",marginTop:"15px",fontSize:"0.9em"},".contactInfo":{display:"flex",color:"#555",fontSize:"0.9em",alignItems:"center"},".contactInfo > div":{marginLeft:"10px",marginRight:"10px"},".contactInfo > div > a":{color:"#555"},".contactName":{fontSize:"1em",
fontFamily:"OpenSansBold"},".popup .image":{width:"50px",height:"50px",borderRadius:"50px",boxShadow:"1px 1px 4px 2px rgba(0,0,0,.1)",overflow:"hidden"},".popup .image.noIcn":{display:"none"},".popup .image img":{width:"100%"}};return d}(KIP.Popup);b.InvolvementPopup=f;var c=function(a){function d(){return null!==a&&a.apply(this,arguments)||this}__extends(d,a);d.prototype._getUncoloredStyles=function(){return this._mergeThemes(d._uncoloredStyles,b.SubSection._uncoloredStyles)};d.prototype._createContent=
function(){this._elems.content=KIP.createElement({cls:"involvementSubsection"});var a=0;for(a;a<this._data.length;a+=1){var d=this._createGetInvolvedItem(this._data[a]);this._elems.content.appendChild(d)}};d.prototype._createGetInvolvedItem=function(a){var d=this,b=KIP.createElement({type:"img",attr:{src:a.icon||""},cls:"icn "+(a.icon?"":"noIcn")}),c=KIP.createSimpleElement("","involved",a.text);b=KIP.createElement({cls:"involvementWrapper",children:[{cls:"imageContainer",children:[b]},c]});b.addEventListener("click",
function(){d._showInvolvementPopup(a)});return b};d.prototype._showInvolvementPopup=function(a){(new f(a)).draw(document.body)};d._uncoloredStyles={".getInvolved .involvementSubsection .involvementWrapper":{marginBottom:"7px",marginTop:"7px",cursor:"pointer",display:"flex",alignItems:"center"},".getInvolved .involvementSubsection .involvementWrapper:hover":{textDecoration:"underline"},".getInvolved .involvementSubsection .imageContainer":{borderRadius:"20px",padding:"3px",borderStyle:"none",border:"0",
width:"20px",height:"20px",overflow:"hidden"},".getInvolved .involvementSubsection .icn.noIcn":{display:"none"},".getInvolved .involvementSubsection .icn":{width:"100%"}};return d}(b.SubSection);b.InvolvementSubsection=c})(BST||(BST={}));
(function(b){var e=function(b){function c(){var a=null!==b&&b.apply(this,arguments)||this;a._NEWS_ITEMS=3;return a}__extends(c,b);c.prototype._createSectionElements=function(){this._data=this._data.sort(function(a,b){return a.isImportant&&!b.isImportant?-1:!a.isImportant&&b.isImportant?1:a.date>b.date?-1:b.date>a.date?1:0});for(var a=0;a<this._data.length;a+=this._NEWS_ITEMS)this._createNewsSection(this._data.slice(a,Math.min(this._NEWS_ITEMS+a,this._data.length)),0!==a)};c.prototype._createNewsSection=
function(a,d){for(var b=this,c=KIP.createElement({cls:"newsSection"+(d?" collapsed":"")}),f,e=0;e<a.length;e++)f=a[e],f=this._createNewsItem(f),c.appendChild(f);if(d){var l=KIP.createElement({cls:"expandNews",content:"SEE MORE",parent:this._elems.content}),n=KIP.createElement({cls:"collapseNews hidden",content:"SEE LESS",parent:this._elems.content});l.addEventListener("click",function(){b._expand(c,l,n)});n.addEventListener("click",function(){b._collapse(c,l,n)})}this._elems.content.appendChild(c)};
c.prototype._createNewsItem=function(a){var d=KIP.createSimpleElement("","newsTitle",a.title),b=KIP.createSimpleElement("","newsContent",a.content),c=KIP.createSimpleElement("","newsAuthor",a.author);a=KIP.createSimpleElement("","newsDate",KIP.Dates.shortDate(a.date));c=KIP.createSimpleElement("","authorDateWrapper","",null,[c,a]);return KIP.createSimpleElement("","newsItem","",null,[d,b,c])};c.prototype._expand=function(a,d,b){KIP.removeClass(a,"collapsed");KIP.transition(a,{height:"0",maxHeight:"auto"},
{height:"<height>"},500).then(function(){KIP.removeClass(b,"hidden");KIP.addClass(d,"hidden")})};c.prototype._collapse=function(a,d,b){KIP.transition(a,{height:"<height>"},{height:"0"},500).then(function(){KIP.addClass(a,"collapsed");KIP.addClass(b,"hidden");KIP.removeClass(d,"hidden")})};c._uncoloredStyles={".news.section":{marginTop:window.innerHeight+"px !important"},".newsItem .newsTitle":{fontSize:"1.2em",color:"#555",fontFamily:"OpenSansBold"},".authorDateWrapper":{fontSize:"0.8em",color:"#777",
display:"flex",marginTop:"10px",marginBottom:"20px"},".authorDateWrapper .newsAuthor":{marginRight:"10px"},".newsSection":{overflow:"hidden"},".newsSection.collapsed":{height:"0"},".expandNews, .collapseNews":{marginTop:"10px",marginBottom:"10px",cursor:"pointer",fontSize:"0.8em",fontFamily:"OpenSansBold",textAlign:"right"},".expandNews:hover, .collapseNews:hover":{textDecoration:"underline"},".expandNews + .collapseNews + .newsSection.collapsed + .expandNews":{display:"none"}};return c}(b.SectionView);
b.NewsSection=e})(BST||(BST={}));
(function(b){var e=function(f){function c(a){var d=f.call(this)||this;d._data=a;d._createElements();return d}__extends(c,f);c.prototype._createElements=function(){if(this._data){var a=new b.SeasonsSidelineView,d=this._createNewsSection(),c=this._createGetInvolvedSection(),f=this._createAboutSection(),e=this._createResourcesSection(),k=this._createDonateSection();a=KIP.createElement({id:"home",cls:"home",children:[a.base,d.base,c.base,f.base,e.base,k.base]});this._elems.base=a;document.body.style.backgroundImage=
"url("+this._data.bgURL+")"}};c.prototype._createAboutSection=function(){var a=new b.AboutSection("about","ABOUT BROOM STREET","about");a.data=this._data.about;return a};c.prototype._createGetInvolvedSection=function(){var a=new b.GetInvolvedSection("getInvolved","GET INVOLVED","getInvolved");a.data=this._data.getInvolved;return a};c.prototype._createNewsSection=function(){var a=new b.NewsSection("news","NEWS","news");a.data=this._data.news;return a};c.prototype._createResourcesSection=function(){var a=
new b.ResourcesSection("resources","RESOURCES","resources");a.data=this._data.resources;return a};c.prototype._createDonateSection=function(){var a=new b.DonateSection("donate","DONATE","donate");a.data=this._data.donateInfo;return a};c._uncoloredStyles={body:{backgroundColor:"#000",fontFamily:"OpenSans"},".hidden":{display:"none"}};return c}(b.View);b.HomeView=e})(BST||(BST={}));
(function(b){var e=function(f){function c(a){var d=f.call(this)||this;a&&d._loadShowData(a);return d}__extends(c,f);Object.defineProperty(c.prototype,"bubbleReference",{set:function(a){this._bubbleReference=a-75},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"showID",{set:function(a){this._loadShowData(a)},enumerable:!0,configurable:!0});c.prototype._createElements=function(){this._elems.base=KIP.createSimpleElement("","currentShow")};c.prototype._shouldSkipCreateElements=function(){return!1};
c.prototype._loadShowData=function(a){var d=this;b.Server.loadShow(a,function(a){d._createShowUI(a)},function(a){d._onError()})};c.prototype._onError=function(){this._elems.base.innerHTML="";(new KIP.ErrorPopup("The details about this show couldn't be found")).draw(document.body)};c.prototype._createShowUI=function(a){this._elems.base||this._createElements();this._elems.base.innerHTML="";var d=this._createShowPhoto(a);a=this._createShowDetails(a);this._elems.base.appendChild(d);this._elems.base.appendChild(a)};
c.prototype._createShowPhoto=function(a){a=this._getPhotoURL(a);return KIP.createElement({type:"img",attr:{src:a}})};c.prototype._getPhotoURL=function(a){for(var d,b=0,c=a.photos;b<c.length;b++)if(a=c[b],a.isHilite){d=a.url;break}return d};c.prototype._createShowDetails=function(a){var d=this,b=KIP.createSimpleElement("","infoTitle",a.showTitle.title),c=KIP.createSimpleElement("","infoSubtitle",a.showTitle.subtitle),f=a.run;f=KIP.createSimpleElement("","dates",KIP.Dates.shortDate(f.start)+" - "+KIP.Dates.shortDate(f.end));
var e=this._createWriterAndDirectorDetails(a.showTitle);a=this._createButtons(a);this._elems.details=KIP.createSimpleElement("","currentShowDetails hidden","",null,[b,c,f,e,a]);this._bubbleReference&&(this._elems.details.style.top=this._bubbleReference-this._elems.details.offsetHeight/2+"px");window.setTimeout(function(){KIP.removeClass(d._elems.details,"hidden");KIP.transition(d._elems.details,{opacity:"0"},{opacity:"1"},500)},10);return this._elems.details};c.prototype._createWriterAndDirectorDetails=
function(a){var d=KIP.createSimpleElement("","writerDirector");a.writer!==a.director?(KIP.createSimpleElement("","writer","Written by: "+a.writer,null,null,d),KIP.createSimpleElement("","director","Directed by: "+a.director,null,null,d)):d.innerHTML="Written and Directed by: "+a.writer;return d};c.prototype._createButtons=function(a){var d=KIP.createSimpleElement("","buttons");KIP.createSimpleElement("","btn details","DETAILS",null,null,d).addEventListener("click",function(){b.navigate(a.showTitle.id,
b.NavigationType.SHOW)});var c=KIP.Dates.getToday(),f=b.Helpers.getShowStartAndEndDates(a);c<=f.end&&KIP.createSimpleElement("","btn tix","GET TICKETS",null,null,d).addEventListener("click",function(){b.navigate(a.showTitle.id,b.NavigationType.SHOW)});return d};c.prototype._createErrorMessage=function(){var a=KIP.createSimpleElement("","errTitle","Uh-oh...something happened"),d=KIP.createSimpleElement("","errDetails","Looks like we haven't yet added details about this show.");return KIP.createSimpleElement("",
"error","",null,[a,d])};c._uncoloredStyles={".currentShow":{width:"100%",height:"100%",position:"absolute",left:"0",top:"0",maxHeight:"100%",overflow:"hidden",pointerEvents:"none"},".seasons":{width:"100%",height:"100%",position:"fixed",left:"0",top:"0"},".seasons + div":{marginTop:"100%"},".seasons .sideline":{display:"flex",flexDirection:"row-reverse",maxHeight:"100%",height:"100%",position:"absolute",top:"0"},".seasons .sideline .years, .seasons .sideline .shows":{display:"flex",flexDirection:"column",
justifyContent:"space-around",color:"#FFF",textShadow:"1px 1px 3px rgba(0,0,0,.2)",paddingLeft:"8px",paddingRight:"8px",height:"100%",backgroundColor:"#242423",boxShadow:"1px 0px 5px 3px rgba(0,0,0,.3)",alignItems:"center",paddingTop:"100px",boxSizing:"border-box"},".seasons .sideline .years":{backgroundColor:"#1c1c1c"},".seasons .sideline .years .yearLabel, .seasons .sideline .shows .show":{transition:"all ease-in-out 0.08s",cursor:"pointer",opacity:"0.2",height:"8.333%",alignSelf:"middle",margin:"auto"},
".seasons .sideline .years .yearLabel:hover, .seasons .sideline .years .yearLabel.selected, .seasons .sideline .shows .show:hover, .seasons .sideline .shows .show.selected":{transform:"scale(1.1)",textDecoration:"underline",opacity:"1"},".currentShow img":{width:"100%",height:"auto"},".currentShow .currentShowDetails":{backgroundColor:"#FFF",borderRadius:"4px",boxShadow:"1px 1px 8px 4px rgba(0,0,0,.2)",position:"absolute",top:"178px",left:"42px",padding:"6px",paddingLeft:"20px",fontFamily:"OpenSansLight"},
".currentShow .currentShowDetails.hidden":{opacity:"0"},".currentShowDetails .infoTitle":{fontSize:"2em",fontFamily:"OpenSansBold"},".currentShowDetails .infoSubtitle":{fontSize:"1em",fontFamily:"OpenSans",lineHeight:"0.8",marginBottom:"10px",opacity:"0.65"},".currentShowDetails .dates":{fontSize:"1.2em"},".currentShowDetails .writerDirector":{marginTop:"0.5em"},".currentShowDetails .buttons":{display:"flex",width:"100%",marginTop:"1.5em",pointerEvents:"all"},".currentShowDetails .buttons .btn":{backgroundColor:"#FC0",
color:"#000",padding:"8px 5px",borderRadius:"2px",cursor:"pointer",marginRight:"8px",width:"50%",textAlign:"center",fontFamily:"OpenSansBold"}};return c}(b.View);b.CurrentShowView=e})(BST||(BST={}));
(function(b){var e=function(f){function c(){var a=f.call(this)||this;a._currentShowView=new b.CurrentShowView;a._createElements();a._loadSeasons();return a}__extends(c,f);c.prototype._createElements=function(){this._currentShowView&&(this._elems.base=KIP.createSimpleElement("","seasons","",null,[this._currentShowView.base]),this._elems.base.style.top="0",this._elems.base.style.left="0",b.slowScroll(this.base),KIP.setProperty(".seasons + div","margin-top",window.innerHeight+"px"))};c.prototype._createSectionElements=
function(){this._seasons&&(this._elements={sidelineElem:KIP.createSimpleElement("","sideline"),showsElem:this._createShows()},this._elements.sidelineElem.appendChild(this._elements.showsElem),this.base.appendChild(this._elements.sidelineElem))};c.prototype._createShows=function(){var a=this,d=KIP.createSimpleElement("","shows");b.Helpers.findImmediateShow(this._seasons).map(function(b){var c=a._createShow(b);d.appendChild(c);b.selected&&a._selectCurShowAfterTimeout(c,b.id)});return d};c.prototype._createShow=
function(a){var d=this,b=KIP.createSimpleElement("","show");KIP.createElement({cls:"icon",type:"img",attr:{src:a.icon},parent:b});b.addEventListener("click",function(){d._selectShow(b,a.id)});return b};c.prototype._loadSeasons=function(){var a=this;b.Server.loadSeasons(function(d){a._seasons=d;a._createSectionElements()})};c.prototype._selectCurShowAfterTimeout=function(a,d){var b=this;window.setTimeout(function(){b._selectShow(a,d)})};c.prototype._loadShow=function(a,d){this._currentShowView.showID=
a;this._currentShowView.bubbleReference=d.offsetTop};c.prototype._selectShow=function(a,d){this._selectElem(a,this._selectedShow)&&(this._selectedShow=a,this._loadShow(d,a))};c.prototype._selectElem=function(a,d){if(d===a)return!1;d&&KIP.removeClass(d,"selected");KIP.addClass(a,"selected");return!0};return c}(b.View);b.SeasonsSidelineView=e})(BST||(BST={}));
(function(b){var e=function(b){function c(){return null!==b&&b.apply(this,arguments)||this}__extends(c,b);c.prototype._createSectionElements=function(){for(var a,d=0,b=this._data;d<b.length;d++)a=b[d],this._createResource(a)};c.prototype._createResource=function(a){KIP.createElement({cls:"resource",parent:this._elems.content,children:[{cls:"resourceTitle",type:"a",attr:{href:a.link,target:"_blank"},content:a.name},{cls:"resourceContent",content:a.content}]})};c._uncoloredStyles={".resources .sectionContent":{display:"flex",
flexWrap:"wrap"},".resource":{width:"33%",marginTop:"10px",paddingLeft:"10px",paddingRight:"10px",boxSizing:"border-box"},".resource .resourceTitle":{fontSize:"1.1em"},".resources .resource a.resourceTitle":{color:"#333",marginLeft:"0",marginRight:"0",fontFamily:"OpenSans"},".resource .resourceContent":{fontSize:"0.9em",marginTop:"5px",color:"#555"}};return c}(b.SectionView);b.ResourcesSection=e})(BST||(BST={}));
(function(b){var e=function(b){function c(){return null!==b&&b.apply(this,arguments)||this}__extends(c,b);c.prototype._createSectionElements=function(){this._createSeasonSelector()};c.prototype._createSeasonSelector=function(){this._elems.seasonSelector=KIP.createElement({cls:"seasonSelector"})};c.prototype._getSeasonElement=function(a){return document.getElementById("season"+a)};c._uncoloredStyles={};return c}(b.SectionView);b.SeasonsSection=e})(BST||(BST={}));
(function(b){var e=function(b){function c(){return null!==b&&b.apply(this,arguments)||this}__extends(c,b);c.prototype._createSectionElements=function(){KIP.createElement({cls:"donateBlurb",content:this._data.blurb,parent:this._elems.content});this._createPaypalElement()};c.prototype._createPaypalElement=function(){KIP.createElement({type:"form",cls:"paypal",parent:this._elems.content,attr:{action:"https://www.paypal.com/cgi-bin/webscr",method:"post",target:"_top"},children:[{type:"input",attr:{type:"hidden",
name:"cmd",value:"_s-xclick"}},{type:"input",attr:{type:"hidden",name:"hosted_button_id",value:this._data.paypalAccount}},{type:"input",attr:{type:"image",src:"https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif",border:"0",name:"submit",alt:"PayPal - The safer, easier way to pay online!"}},{type:"img",attr:{alt:"",border:"0",src:"https://www.paypalobjects.com/en-US/i/scr/pixel.gif",width:"1",height:"1"}}]})};c._uncoloredStyles={".donate .donateBlurb a":{color:"#333",marginLeft:"0",marginRight:"0"},
".donate .paypal":{marginTop:"5%",display:"flex",justifyContent:"center"}};return c}(b.SectionView);b.DonateSection=e})(BST||(BST={}));
(function(b){var e=function(e){function c(){var a=null!==e&&e.apply(this,arguments)||this;a._weekNum=0;return a}__extends(c,e);c.prototype._createSectionElements=function(){var a=this._createDateGrid(),d=this._createTicketButtons();this._elems.content.appendChild(a);this._elems.content.appendChild(d)};c.prototype._createDateGrid=function(){var a=[];a[0]=this._createDayHeaders();for(var d,b=0,c=this._data.runDates;b<c.length;b++){d=c[b];var e=this._createDayCell(d);this._addDayToCellArray(e,d,a)}try{return KIP.createTable(this._id+
"|grid","ticketDates",a)}catch(k){return KIP.createSimpleElement()}};c.prototype._createDayHeaders=function(){for(var a=[],d,b=0,e=c._HEADERS;b<e.length;b++)d=e[b],d=KIP.createSimpleElement("","dateHeader",d),a.push(d);return a};c.prototype._addDayToCellArray=function(a,d,c){var g=b.Helpers.getShowStartAndEndDates(this._data);KIP.Dates.dateDiff(g.end,d,!1);c[this._weekNum]||(c[this._weekNum]=[]);d=d.getDay();5>d&&(this._weekNum+=1,c[this._weekNum]=[]);c[this._weekNum][d-4]=a};c.prototype._createDayCell=
function(a){var d=this,b=KIP.createSimpleElement("","date",a.getDate().toString());b.addEventListener("click",function(){var a=d._selectedElement===b;d._unselectCell();a?d._disableTicketButtons():(d._selectCell(b),d._enableTicketButtons())});this._setDayColor(a,b);return b};c.prototype._selectCell=function(a){KIP.addClass(a,"selected");this._selectedElement=a};c.prototype._unselectCell=function(){this._selectedElement&&(KIP.removeClass(this._selectedElement,"selected"),this._selectedElement=null)};
c.prototype._setDayColor=function(a,b){KIP.addClass(b,c._COLORS[Math.floor(4*Math.random())])};c.prototype._createTicketButtons=function(){var a=this._createTicketButton("RESERVE","reserve"),b=this._createTicketButton("BUY","buy",1.38);return this._ticketBtns=a=KIP.createSimpleElement("ticketBtns","buttons","",null,[a,b])};c.prototype._createTicketButton=function(a,b,c,e){var d=this;e||(e="If you do not arrive by 7:55pm, your tickets may be forfeit!");a=KIP.createSimpleElement("","btn "+b,a);b=KIP.createSimpleElement("",
"price","$11.00"+(c?" + $"+c+" convenience fee":""));var g=KIP.createSimpleElement("","lbl"," x "),f=KIP.createElement({type:"input",attr:{type:"number",min:"0",value:"0"},cls:"numOfTix"});f.addEventListener("change",function(){d._updateCalculation(+f.value,11+(c?c:0),p)});f.addEventListener("keyup",function(){d._updateCalculation(+f.value,11+(c?c:0),p)});var h=KIP.createSimpleElement("","lbl"," = "),p=KIP.createSimpleElement("","calculation","$0.00");e=KIP.createSimpleElement("","warning",e);return KIP.createSimpleElement("",
"ticketBtn","",null,[a,b,g,f,h,p,e])};c.prototype._updateCalculation=function(a,b,c){a=KIP.roundToPlace(b*a,100);b=KIP.piece(a.toString(),".",1);c.innerHTML="$"+a;1===b.length?c.innerHTML+="0":0===b.length&&(c.innerHTML+=".00")};c.prototype._enableTicketButtons=function(){KIP.addClass(this._ticketBtns,"enabled")};c.prototype._disableTicketButtons=function(){KIP.removeClass(this._ticketBtns,"enabled")};c._COLORS=["closed","booked","semi","free"];c._HEADERS=["Thurs.","Fri.","Sat."];return c}(b.SectionView);
b.TicketSection=e})(BST||(BST={}));
(function(b){var e=function(b){function c(){return null!==b&&b.apply(this,arguments)||this}__extends(c,b);c.prototype._setData=function(a){b.prototype._setData.call(this,a);this._data&&0!==this._data.length||KIP.addClass(this._elems.base,"hidden")};c.prototype._createSectionElements=function(){for(var a,b=0,c=this._data;b<c.length;b++)a=c[b],a=this._createReview(a),this._elems.content.appendChild(a)};c.prototype._createReview=function(a){var b=this._createMetaDetails(a);a=KIP.createSimpleElement(this._id+
"what","what",a.review);return KIP.createSimpleElement(this._id+"|blurb","blurb","",null,[b,a])};c.prototype._createMetaDetails=function(a){var b=KIP.createSimpleElement(this._id+"|who","who",a.reviewer),c=KIP.createSimpleElement(this._id+"|when","when",KIP.Dates.shortDate(a.date));a=KIP.createElement({type:"a",attr:{href:a.link},cls:"link",content:"Full Review"});a=KIP.createSimpleElement(this._id+"|link","link","",null,[a]);b=KIP.createSimpleElement(this._id+"|whoWhen","whoWhen","",null,[b,c,a]);
return KIP.createSimpleElement("","whoWhenWrapper","",null,[b])};return c}(b.SectionView);b.BuzzSection=e})(BST||(BST={}));
(function(b){var e=function(c){function a(){return null!==c&&c.apply(this,arguments)||this}__extends(a,c);a.prototype._createSectionElements=function(){for(var a,c=new b.SubSections,e=[],m=[],k=[],l=0,n=this._data;l<n.length;l++)switch(a=n[l],a.type){case b.CastOrCrew.CREW:m.push(a);break;case b.CastOrCrew.SPECIAL_MENTION:k.push(a);break;default:e.push(a)}0<e.length&&(a=new f(e,"CAST"),c.addSubSection(a));0<m.length&&(m=new f(m,"CREW"),c.addSubSection(m));0<k.length&&(k=new f(k,"SPECIAL MENTIONS"),
c.addSubSection(k));this._elems.content.appendChild(c.base)};a._uncoloredStyles={".section.bios":{paddingLeft:"25%",paddingRight:"20%"},".section.bios .sectionContent .bioSubsection":{display:"flex",flexWrap:"wrap",marginLeft:"-120px"},".section.bios .tabContainer":{justifyContent:"flex-start"},".section.bios .tabContainer .tab":{paddingRight:"5%",boxSizing:"border-box"}};return a}(b.SectionView);b.BioSection=e;var f=function(c){function a(){return null!==c&&c.apply(this,arguments)||this}__extends(a,
c);a.prototype._getUncoloredStyles=function(){return this._mergeThemes(a._uncoloredStyles,b.SubSection._uncoloredStyles)};a.prototype._createContent=function(){this._elems.content=KIP.createElement({cls:"bioSubsection"});for(var a,b=0,c=this._data;b<c.length;b++)a=c[b],a=this._createBio(a),this._elems.content.appendChild(a)};a.prototype._afterDraw=function(){for(var a=0,b=this._elems.content.childNodes,c=0;c<b.length;c+=1){var e=b[c];e.offsetHeight>a&&(a=e.offsetHeight)}console.log("maxHeight: "+
a);KIP.setProperty(".bio","min-height",a+"px",!0)};a.prototype._createBio=function(a){var b=this._createBioContent(a);a=this._createBioImage(a);return KIP.createSimpleElement(this._id+"|bio","bio","",null,[a,b])};a.prototype._createBioNames=function(a){var b=KIP.createSimpleElement(this._id+"|actor","actor");var d=a.website?KIP.createElement({type:"a",attr:{href:a.website},content:a.actorName,cls:"link"}):KIP.createElement({cls:"nolink",content:a.actorName});b.appendChild(d);a=KIP.createSimpleElement(this._id+
"|role","role",a.roleName);return KIP.createSimpleElement(this._id+"|names","names","",null,[b,a])};a.prototype._createBioContent=function(a){var b=this._createBioNames(a);a=KIP.createSimpleElement(this._id+"|bioText","bioText",a.bio);return KIP.createSimpleElement(this._id+"|bioData","bioData","",null,[b,a])};a.prototype._createBioImage=function(a){var b=KIP.createSimpleElement(this._id+"|bioImage","bioImage");KIP.createElement({type:"img",attr:{src:a.imageURL},parent:b});return b};a._uncoloredStyles=
{".bio":{display:"flex",width:"calc(50% - 10px)",boxSizing:"border-box",marginBottom:"20px",marginRight:"10px",minHeight:"0px"},".bio .bioImage":{borderRadius:"100px",width:"100px",minWidth:"100px",height:"100px",minHeight:"100px",overflow:"hidden",marginRight:"20px",backgroundColor:"#FFF"},".bio .bioImage > img":{width:"100%",height:"auto"},".bio .bioData .names":{display:"flex",fontSize:"1.4em"},".bio .bioData .names .actor":{fontFamily:"OpenSans",marginRight:"20px"},".bio .bioData .names .actor a":{margin:"0",
padding:"0",display:"inline-block"},".bio .bioData .names .actor .link:after":{backgroundImage:"url('http://icons.veryicon.com/ico/System/iOS7%20Minimal/Debug%20External%20link.ico')",backgroundRepeat:"no-repeat",backgroundSize:"18px 18px",content:"''",width:"18px",height:"18px",marginLeft:"6px",display:"inline-block",opacity:"0.5"},".bio .bioData .names:hover .actor:after":{opacity:"1"},".bio .bioData .names .role":{fontFamily:"OpenSansLight",fontStyle:"italic"},".bio .bioData .bioText":{fontSize:"0.9em"},
".bio a":{color:"#333",fontSize:"0.9em",padding:"0",margin:"0",marginTop:"10px",display:"block"}};return a}(b.SubSection);b.BioSubsection=f})(BST||(BST={}));
(function(b){var e=function(b){function c(){return null!==b&&b.apply(this,arguments)||this}__extends(c,b);c.prototype._setData=function(a){b.prototype._setData.call(this,a);KIP.setProperty(".synopsis.section","margin-top",window.innerHeight+"px")};c.prototype._createSectionElements=function(){var a=this._createSynopsisContent();this._elems.content.appendChild(a)};c.prototype._createSynopsisContent=function(){var a=KIP.createSimpleElement("","synopsis",this._data.showDetails.synopsis),b=this._createSynopsisSidebar();
return KIP.createSimpleElement("","overview","",null,[a,b])};c.prototype._createSynopsisSidebar=function(){var a=this._data.showDetails,b=this._createSidebarElement("Show Length:",a.showLength.toString()),c=this._createSidebarElement("Has Intermission? ",a.hasIntermission?"Yes":"No"),e=this._createSidebarElement("Family Friendly?",a.isKidFriendly?"Yes":"No");a=this._createSidebarElement("Warnings: ",a.warnings);return KIP.createSimpleElement("","sidebar","",null,[b,c,e,a])};c.prototype._createSidebarElement=
function(a,b){a=KIP.createSimpleElement("","lbl",a);b=KIP.createSimpleElement("","data",b);return KIP.createSimpleElement("","sidebarElem","",null,[a,b])};return c}(b.SectionView);b.SynopsisSection=e})(BST||(BST={}));
(function(b){var e=function(c){function a(a){var b=c.call(this)||this;b._data=a;b._center=null;b._createElements();return b}__extends(a,c);a.prototype._createElements=function(){var a=this;if(this._data&&0!==this._data.photos.length){this._elems.base=KIP.createSimpleElement(this._data.showTitle.id+"|showPhotos","showPhotos");for(var c,e=0;e<this._data.photos.length;e+=1)c=this._data.photos[e],this._createPhoto(c,1===e);if(1<this._data.photos.length){if(4>this._data.photos.length){e=0;for(var f=this._data.photos;e<
f.length;e++)c=f[e],this._createPhoto(c)}if(3>this._data.photos.length)for(e=0,f=this._data.photos;e<f.length;e++)c=f[e],this._createPhoto(c)}this._finalizeLoop();window.setTimeout(function(){a._center.center();window.setTimeout(function(){a._rotate()},5E3);b.slowScroll(a.base)},100)}};a.prototype._createPhoto=function(a,b){a=KIP.createElement({type:"img",attr:{src:a.url},cls:"showPhoto"});a=KIP.createSimpleElement("","showPhotoWrapper","",null,[a]);a.style.left=window.innerWidth+"px";b=new f(a);
this._insertNode(b);this.base.appendChild(a)};a.prototype._insertNode=function(a){var b=this._center;if(null===b)this._center=a;else{for(;null!==b.next;)b=b.next;b.next=a;a.previous=b}};a.prototype._finalizeLoop=function(){if(!this._looped&&this._center){var a=this._center;if(a){for(;null!==a.previous;)a=a.previous;for(var b=this._center;null!==b.next;)b=b.next;a!==b&&(a.previous=b,b.next=a,this._looped=!0)}}};a.prototype._rotate=function(){var a=this;this._center.next&&(this._center=this._center.next,
this._center.center(),window.setTimeout(function(){a._rotate()},5E3))};a._uncoloredStyles={".showPhotos":{display:"flex",justifyContent:"space-around",position:"fixed",left:"0",top:"85px",width:"100%",zIndex:"-1",overflow:"hidden",height:"calc(100% - 85px)"},".showPhotos > div > img":{height:"100%",width:"auto"},".showPhotoWrapper":{height:"100%",position:"absolute",transition:"1s ease-in-out all",display:"flex",justifyContent:"center",opacity:"0.2"},".showPhotoWrapper.center":{opacity:"1",boxShadow:"1px 1px 15px 7px rgba(0,0,0,.3)"}};
return a}(b.View);b.PhotoLoopView=e;var f=function(){function b(a){this._id=b._count;b._count+=1;this._photoElem=a;this._previous=this._next=null;this._shiftedCount=0}Object.defineProperty(b.prototype,"photoElem",{get:function(){return this._photoElem},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"next",{get:function(){return this._next},set:function(a){this._next=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"previous",{get:function(){return this._previous},
set:function(a){this._previous=a},enumerable:!0,configurable:!0});b.prototype.center=function(){this._photoElem.style.left=(window.innerWidth-this._photoElem.offsetWidth)/2+"px";this._photoElem.style.opacity="1";KIP.addClass(this._photoElem,"center");this._shiftedCount+=1;this._previous&&this._previous.moveLeft();this._next&&this._next.moveLeft(!0)};b.prototype.moveLeft=function(a){var b=this;this._shiftedCount+=1;if(a){if(!this._previous)return;a=parseInt(this._previous.photoElem.style.left)+this._previous.photoElem.offsetWidth}else{if(!this.next)return;
a=parseInt(this._next.photoElem.style.left)-this._photoElem.offsetWidth}this._photoElem.style.left=a+"px";this._photoElem.style.opacity="0.2";KIP.removeClass(this._photoElem,"center");0>=a+this._photoElem.offsetWidth&&this.moveRight();a>window.innerWidth/2?window.setTimeout(function(){b.next._shiftedCount<b._shiftedCount&&b.next.moveLeft(!0)},0):a<window.innerWidth/2&&window.setTimeout(function(){b.previous._shiftedCount<b._shiftedCount&&b.previous.moveLeft()},0)};b.prototype.moveRight=function(){var a=
this;this._previous&&window.setTimeout(function(){a._photoElem.style.opacity="0";window.setTimeout(function(){var b=parseInt(a._previous.photoElem.style.left)+a._previous.photoElem.offsetWidth;a._photoElem.style.left=b+"px";window.setTimeout(function(){a._photoElem.style.opacity="0.2"},1E3)},1E3)},1E3)};b._count=0;return b}();b.LinkedPhoto=f})(BST||(BST={}));
(function(b){var e=function(e){function c(a){var b=e.call(this)||this;b._data=a;b._createElements();return b}__extends(c,e);c.prototype._shouldSkipCreateElements=function(){return!0};c.prototype._createElements=function(){this._elems.base=KIP.createElement({cls:"scrollablePhotoBase"});for(var a=KIP.createElement({cls:"scrollablePhotos",parent:this._elems.base}),c,e=0,f=0,m=this._data;f<m.length;f++)c=m[f],e+=1,c=this._createPhoto(c,e),a.appendChild(c);b.slowScroll(this._elems.base)};c.prototype._createPhoto=
function(a,b){b=KIP.createElement({cls:"photoWrapper"});KIP.createElement({type:"img",attr:{src:a.url},parent:b});KIP.createElement({content:a.photographer,cls:"photoCreds",parent:b});return b};c._uncoloredStyles={".scrollablePhotoBase":{position:"fixed",zIndex:"-1"}};return c}(b.View);b.ScrollableShowPhotos=e})(BST||(BST={}));
(function(b){var e=function(b){function c(){return null!==b&&b.apply(this,arguments)||this}__extends(c,b);c.prototype._createSectionElements=function(){};return c}(b.SectionView);b.AuditionsSection=e})(BST||(BST={}));
(function(b){var e=function(b){function c(){return null!==b&&b.apply(this,arguments)||this}__extends(c,b);c.prototype._shouldSkipCreateElements=function(){return!0};c.prototype._createSectionElements=function(){var a='<DIV ID="bpt_eventbody"><CENTER><BR><BR>Brown Paper Tickets Ticket Widget Loading...<BR><BR><A HREF="https://www.brownpapertickets.com/event/{{EVENT_ID}}">Click Here</A> to visit the Brown Paper Tickets event page.</CENTER><BR><BR></DIV>'.replace(/\{\{EVENT_ID\}\}/g,this._data),b=KIP.createElement({type:"link",
attr:{rel:"stylesheet",type:"text/css",href:"https://www.brownpapertickets.com/widget_v651.css"}}),c=KIP.createElement({type:"script",attr:{src:"https://www.brownpapertickets.com/eventwidget.js?event="+this._data+"&nodescription=1",type:"text/javascript",language:"javascript"}});KIP.createElement({type:"script",attr:{src:"https://www.brownpapertickets.com/widget_v651.js?event="+this._data,type:"text/javascript",language:"javascript"}});KIP.createElement({cls:"bptHolder",before_content:a,children:[b,
c],parent:this._elems.content})};return c}(b.SectionView);b.SimpleTicketSection=e})(BST||(BST={}));
(function(b){var e=function(e){function c(a){var b=e.call(this)||this;b._data=a;b._createElements();return b}__extends(c,e);c.prototype._createElements=function(){if(this._data){var a=this._createSynopsisSection(),b=this._createBioSection(),c=this._createBuzzSection(),e=this._createSimpleTicketSection(),f=this._createPhotos(),k=[];k.push(f.base);k.push(a.base);this._data.shouldShowBioSection()&&k.push(b.base);this._data.shouldShowBuzzSection()&&k.push(c.base);this._data.shouldShowTicketSection()&&
k.push(e.base);this._elems.base=KIP.createSimpleElement(this._data.showTitle.id+"|show","show","",null,k)}};c.prototype._createPhotos=function(){return new b.PhotoLoopView(this._data)};c.prototype._createScrollablePhotos=function(){return new b.ScrollableShowPhotos(this._data.photos)};c.prototype._createSynopsisSection=function(){var a=new b.SynopsisSection(this._data.showTitle.id+"|synopsis","SYNOPSIS","synopsis");a.data=this._data;return a};c.prototype._createBioSection=function(){var a=new b.BioSection(this._data.showTitle.id+
"|bios","BIOS","bios");a.data=this._data.bios;return a};c.prototype._createBuzzSection=function(){var a=new b.BuzzSection(this._data.showTitle.id+"|buzz","BUZZ","buzz");a.data=this._data.reviews;return a};c.prototype._createTicketSection=function(){var a=new b.TicketSection(this._data.showTitle.id+"|tix","GET TICKETS","tix");a.data=this._data;return a};c.prototype._createSimpleTicketSection=function(){var a=new b.SimpleTicketSection(this._data.showTitle.id+"|tix","GET TICKETS","tix");a.data=this._data.showTitle.bptLink;
return a};c._uncoloredStyles={};return c}(b.View);b.ShowView=e})(BST||(BST={}));
